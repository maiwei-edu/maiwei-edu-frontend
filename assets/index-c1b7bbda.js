import{u as N,p as s,y as P,s as t,x as R,S as m,z as y}from"./index-c511a629.js";import{l as _}from"./live-747bbfa0.js";import{E as z}from"./index-38c52fdf.js";import{F as T}from"./index-12a58c4e.js";import{L as F}from"./index-9e930285.js";import{P as k}from"./Pagination-e6b85467.js";import"./index-fd5c4c39.js";import"./useForceUpdate-771f503b.js";const A={"list-box":"_list-box_1xb0e_1"},H=()=>{document.title="直播课";const l=N(),[i,u]=s.useState(!1),[o,h]=s.useState([]),[j,S]=s.useState([]),[g,v]=s.useState(!1),[n,p]=s.useState(1),[r,B]=s.useState(16),[x,w]=s.useState(0),f=new URLSearchParams(P().search),[c,C]=s.useState(Number(f.get("cid"))||0),[d,b]=s.useState(Number(f.get("child"))||0);s.useEffect(()=>{E()},[g,n,r]);const L=()=>{p(1),h([]),v(!g)},E=()=>{if(i)return;u(!0);let e=0;d===0||c==0?e=c:e=d,_({page:n,size:r,cid:e}).then(a=>{h(a.data.data.data),w(a.data.data.total),S(a.data.categories),u(!1)})};return t.jsxs(t.Fragment,{children:[t.jsx(T,{loading:i,categories:j,defaultKey:c,defaultChild:d,onSelected:(e,a)=>{C(e),b(a),l(e===0?"/live":a===0?"/live?cid="+e:"/live?cid="+e+"&child="+a),L()}}),t.jsxs("div",{className:"container",children:[i&&t.jsx(R,{style:{width:1200},children:t.jsx("div",{style:{width:1200,display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:30},children:Array.from({length:12}).map((e,a)=>t.jsxs("div",{style:{width:264,display:"flex",flexDirection:"column"},children:[t.jsx(m.Button,{active:!0,style:{width:264,height:198,borderRadius:"8px 8px 0 0"}}),t.jsx(m,{active:!0,paragraph:{rows:1}})]},a))})}),!i&&o.length===0&&t.jsx(y,{span:24,children:t.jsx(z,{})}),!i&&o.length>0&&t.jsx("div",{className:A["list-box"],children:o.map(e=>t.jsx(F,{cid:e.id,thumb:e.thumb,category:e.category,title:e.title,charge:e.charge},e.id))}),!i&&o.length>0&&r<x&&t.jsx(y,{span:24,style:{display:"flex",justifyContent:"center",marginTop:50},children:t.jsx(k,{onChange:e=>{p(e),window.scrollTo(0,0)},pageSize:r,defaultCurrent:n,total:x})})]})]})};export{H as default};
