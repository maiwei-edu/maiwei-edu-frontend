import{u as N,p as a,aR as b,t as S,s as e,x as P,ao as E,z as k}from"./index-c4424654.js";import{E as z}from"./index-2b1e8b68.js";import{p as M}from"./mock-c1215ab8.js";import{N as R}from"./index-9ad8e00c.js";import{P as w}from"./index-6a7faf2a.js";const y="_box_72g6p_1",B="_title_72g6p_44",C="_icon_72g6p_53",L="_name_72g6p_58",I="_info_72g6p_69",T="_item_72g6p_76",q="_page_72g6p_1",t={box:y,"project-box":"_project-box_72g6p_8","btn-title":"_btn-title_72g6p_17","paper-item":"_paper-item_72g6p_28","paper-item-comp":"_paper-item-comp_72g6p_35",title:B,icon:C,name:L,info:I,item:T,page:q},Q=()=>{document.title="我的模考";const g=N(),[n,m]=a.useState(!1),[l,x]=a.useState([]),[_,A]=a.useState(!1),[i,d]=a.useState(1),[r,D]=a.useState(10),[F,f]=a.useState(0),[h,c]=a.useState(!1),[j,p]=a.useState(!1);a.useEffect(()=>{u()},[i,r,_]);const u=()=>{n||(m(!0),b({page:i,size:r}).then(s=>{if(f(s.data.total),s.data.data.length===0){let o=i;o>1&&(S.error("没有更多了"),o--,d(o)),c(!0),p(!1)}else x(s.data.data),i===1&&s.data.data.length<r?p(!0):p(!1),s.data.data.length<r?c(!0):c(!1);m(!1)}))},v=s=>{g("/exam/mockpaper/detail/"+s)};return e.jsx("div",{className:"container",children:e.jsxs("div",{className:t.box,children:[e.jsx(R,{cid:11,refresh:!0}),e.jsxs("div",{className:t["project-box"],children:[e.jsx("div",{className:t["btn-title"],children:"我的模考"}),n&&e.jsx(P,{children:e.jsx("div",{className:"float-left d-j-flex mt-50",children:e.jsx(E,{size:"large"})})}),!n&&l.length===0&&e.jsx(k,{span:24,children:e.jsx(z,{})}),!n&&l.length>0&&e.jsx(e.Fragment,{children:l.map((s,o)=>e.jsx("div",{className:t["paper-item"],children:s.paper&&e.jsxs("div",{className:t["paper-item-comp"],onClick:()=>v(s.paper_id),children:[e.jsxs("div",{className:t.title,children:[e.jsx("img",{className:t.icon,src:M}),e.jsx("div",{className:t.name,children:s.paper.title})]}),e.jsxs("div",{className:t.info,children:[e.jsxs("span",{style:{color:"#00BBA7"},children:["最高得分：",s.max_score]}),e.jsx("span",{className:t.item,children:"|"}),e.jsxs("span",{children:["共",s.paper.question_count,"道题"]})]})]})},o))}),!n&&l.length>0&&!j&&e.jsx("div",{id:"page",children:e.jsx(w,{over:h,page:i,currentChange:s=>{d(s),window.scrollTo(0,0)}},i)})]})]})})};export{Q as default};
