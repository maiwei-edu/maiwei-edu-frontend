import{u as N,ad as j,p as r,v as i,cg as k,aL as M,s as a,ch as t}from"./index-e91a7de6.js";const U=({cid:o,refresh:p})=>{const m=N(),h=j(),[c,E]=r.useState(o),[v,g]=r.useState([]),[x,d]=r.useState(!1),s=i(e=>e.systemConfig.value.configFunc),u=i(e=>e.loginUser.value.isLogin);i(e=>e.loginUser.value.freshUnread),r.useEffect(()=>{if(s){let e=[{name:"用户",status:!0,childrens:[{name:"所有订单",id:6,path:"/member/orders",status:!0},{name:"我的消息",id:7,path:"/member/messages",status:!0},{name:"我的证书",id:20,path:"/member/certs",status:s.cert}]},{name:"试题",status:s.paper,childrens:[{name:"我的考试",id:9,path:"/member/paper",status:s.paper},{name:"我的模考",id:11,path:"/member/mockpaper",status:s.mockPaper},{name:"试题错题",id:12,path:"/exam/wrongbook",status:s.wrongBook},{name:"我的练习",id:10,path:"/member/practice",status:s.practice},{name:"收藏习题",id:17,path:"/exam/collection",status:s.practice}]},{name:"其他",status:!0,childrens:[{name:"我的问答",id:13,path:"/member/questions",status:s.wenda},{name:"邀请推广",id:14,path:"/share",status:s.share},{name:"兑换课程",id:15,path:"/member/code-exchanger",status:s.codeExchanger},{name:"积分商城",id:16,path:"/member/credit1-records",status:s.credit1Mall},{name:"我的积分",id:18,path:"/member/credit1-free",status:!s.credit1Mall}]}];g(e)}},[s]),r.useEffect(()=>{u&&b()},[u,p]);const f=e=>{m(e)},b=()=>{k().then(e=>{e.data===0?(d(!1),h(M(!1))):d(!0)})};return a.jsxs("div",{className:t["nav-box"],children:[a.jsx("div",{className:c===0?t["active-spItem"]:t.spItem,onClick:()=>m("/member"),children:"用户中心"}),v.map((e,l)=>a.jsx("div",{children:e.status&&a.jsx("div",{className:t["menus-item"],children:a.jsxs("div",{className:t.item,children:[a.jsx("span",{className:t.title,children:e.name}),a.jsx("div",{className:t.children,children:e.childrens.length>0&&e.childrens.map(n=>a.jsx("div",{children:n.status&&a.jsxs("div",{className:c===n.id?t["active-item-children"]:t["item-children"],onClick:()=>f(n.path),children:[n.name,x&&n.id===7&&a.jsx("div",{className:t.point})]})},n.id))})]})})},l))]})};export{U as N};
