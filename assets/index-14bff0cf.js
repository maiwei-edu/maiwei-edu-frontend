import{p as c,n as re,o as ce,r as V,bP as se,C as K,b2 as de,bF as ue,bH as he,h as X,cC as xe,cD as be,cE as me,bd as _e,bG as ve,b3 as ge,q as L,u as G,s as e,ah as pe,x as ie,ao as fe,z as J,V as M,a0 as U,v as je,cF as Ce,cG as Ne,cH as we,cI as ke,cJ as Se,S as Y}from"./index-d3b20173.js";import{u as ye}from"./live-45f19a47.js";import{E as oe}from"./index-ce951dff.js";import{T as q}from"./index-e9655fcb.js";import{D as Z}from"./index-4a249ac5.js";import{P as $e}from"./Pagination-e33ebde3.js";import"./useForceUpdate-5b968ce5.js";const ae=c.createContext(null),Re=ae.Provider,ne=c.createContext(null),qe=ne.Provider,Be=s=>{const{componentCls:i,antCls:l}=s,a=`${i}-group`;return{[a]:Object.assign(Object.assign({},V(s)),{display:"inline-block",fontSize:0,[`&${a}-rtl`]:{direction:"rtl"},[`${l}-badge ${l}-badge-count`]:{zIndex:1},[`> ${l}-badge:not(:first-child) > ${l}-button-wrapper`]:{borderInlineStart:"none"}})}},Ie=s=>{const{componentCls:i,wrapperMarginInlineEnd:l,colorPrimary:a,radioSize:t,motionDurationSlow:r,motionDurationMid:d,motionEaseInOutCirc:p,colorBgContainer:h,colorBorder:n,lineWidth:u,dotSize:$,colorBgContainerDisabled:m,colorTextDisabled:y,paddingXS:v,dotColorDisabled:R,lineType:N,radioDotDisabledSize:j,wireframe:w,colorWhite:B}=s,k=`${i}-inner`;return{[`${i}-wrapper`]:Object.assign(Object.assign({},V(s)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:l,cursor:"pointer",[`&${i}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:s.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${i}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${u}px ${N} ${a}`,borderRadius:"50%",visibility:"hidden",content:'""'},[i]:Object.assign(Object.assign({},V(s)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${i}-wrapper:hover &,
        &:hover ${k}`]:{borderColor:a},[`${i}-input:focus-visible + ${k}`]:Object.assign({},se(s)),[`${i}:hover::after, ${i}-wrapper:hover &::after`]:{visibility:"visible"},[`${i}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:t,height:t,marginBlockStart:t/-2,marginInlineStart:t/-2,backgroundColor:w?a:B,borderBlockStart:0,borderInlineStart:0,borderRadius:t,transform:"scale(0)",opacity:0,transition:`all ${r} ${p}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:t,height:t,backgroundColor:h,borderColor:n,borderStyle:"solid",borderWidth:u,borderRadius:"50%",transition:`all ${d}`},[`${i}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${i}-checked`]:{[k]:{borderColor:a,backgroundColor:w?h:a,"&::after":{transform:`scale(${$/t})`,opacity:1,transition:`all ${r} ${p}`}}},[`${i}-disabled`]:{cursor:"not-allowed",[k]:{backgroundColor:m,borderColor:n,cursor:"not-allowed","&::after":{backgroundColor:R}},[`${i}-input`]:{cursor:"not-allowed"},[`${i}-disabled + span`]:{color:y,cursor:"not-allowed"},[`&${i}-checked`]:{[k]:{"&::after":{transform:`scale(${j/t})`}}}},[`span${i} + *`]:{paddingInlineStart:v,paddingInlineEnd:v}})}},Ee=s=>{const{buttonColor:i,controlHeight:l,componentCls:a,lineWidth:t,lineType:r,colorBorder:d,motionDurationSlow:p,motionDurationMid:h,buttonPaddingInline:n,fontSize:u,buttonBg:$,fontSizeLG:m,controlHeightLG:y,controlHeightSM:v,paddingXS:R,borderRadius:N,borderRadiusSM:j,borderRadiusLG:w,buttonCheckedBg:B,buttonSolidCheckedColor:k,colorTextDisabled:S,colorBgContainerDisabled:I,buttonCheckedBgDisabled:o,buttonCheckedColorDisabled:C,colorPrimary:P,colorPrimaryHover:D,colorPrimaryActive:z,buttonSolidCheckedBg:f,buttonSolidCheckedHoverBg:T,buttonSolidCheckedActiveBg:F}=s;return{[`${a}-button-wrapper`]:{position:"relative",display:"inline-block",height:l,margin:0,paddingInline:n,paddingBlock:0,color:i,fontSize:u,lineHeight:`${l-t*2}px`,background:$,border:`${t}px ${r} ${d}`,borderBlockStartWidth:t+.02,borderInlineStartWidth:0,borderInlineEndWidth:t,cursor:"pointer",transition:[`color ${h}`,`background ${h}`,`box-shadow ${h}`].join(","),a:{color:i},[`> ${a}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-t,insetInlineStart:-t,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:t,paddingInline:0,backgroundColor:d,transition:`background-color ${p}`,content:'""'}},"&:first-child":{borderInlineStart:`${t}px ${r} ${d}`,borderStartStartRadius:N,borderEndStartRadius:N},"&:last-child":{borderStartEndRadius:N,borderEndEndRadius:N},"&:first-child:last-child":{borderRadius:N},[`${a}-group-large &`]:{height:y,fontSize:m,lineHeight:`${y-t*2}px`,"&:first-child":{borderStartStartRadius:w,borderEndStartRadius:w},"&:last-child":{borderStartEndRadius:w,borderEndEndRadius:w}},[`${a}-group-small &`]:{height:v,paddingInline:R-t,paddingBlock:0,lineHeight:`${v-t*2}px`,"&:first-child":{borderStartStartRadius:j,borderEndStartRadius:j},"&:last-child":{borderStartEndRadius:j,borderEndEndRadius:j}},"&:hover":{position:"relative",color:P},"&:has(:focus-visible)":Object.assign({},se(s)),[`${a}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${a}-button-wrapper-disabled)`]:{zIndex:1,color:P,background:B,borderColor:P,"&::before":{backgroundColor:P},"&:first-child":{borderColor:P},"&:hover":{color:D,borderColor:D,"&::before":{backgroundColor:D}},"&:active":{color:z,borderColor:z,"&::before":{backgroundColor:z}}},[`${a}-group-solid &-checked:not(${a}-button-wrapper-disabled)`]:{color:k,background:f,borderColor:f,"&:hover":{color:k,background:T,borderColor:T},"&:active":{color:k,background:F,borderColor:F}},"&-disabled":{color:S,backgroundColor:I,borderColor:d,cursor:"not-allowed","&:first-child, &:hover":{color:S,backgroundColor:I,borderColor:d}},[`&-disabled${a}-button-wrapper-checked`]:{color:C,backgroundColor:o,borderColor:d,boxShadow:"none"}}}},ee=s=>s-4*2,le=re("Radio",s=>{const{controlOutline:i,controlOutlineWidth:l,radioSize:a}=s,t=`0 0 0 ${l}px ${i}`,r=t,d=ee(a),p=ce(s,{radioDotDisabledSize:d,radioFocusShadow:t,radioButtonFocusShadow:r});return[Be(p),Ie(p),Ee(p)]},s=>{const{wireframe:i,padding:l,marginXS:a,lineWidth:t,fontSizeLG:r,colorText:d,colorBgContainer:p,colorTextDisabled:h,controlItemBgActiveDisabled:n,colorTextLightSolid:u,colorPrimary:$,colorPrimaryHover:m,colorPrimaryActive:y}=s,v=4,R=r,N=i?ee(R):R-(v+t)*2;return{radioSize:R,dotSize:N,dotColorDisabled:h,buttonSolidCheckedColor:u,buttonSolidCheckedBg:$,buttonSolidCheckedHoverBg:m,buttonSolidCheckedActiveBg:y,buttonBg:p,buttonCheckedBg:p,buttonColor:d,buttonCheckedBgDisabled:n,buttonCheckedColorDisabled:h,buttonPaddingInline:l-t,wrapperMarginInlineEnd:a}});var Pe=globalThis&&globalThis.__rest||function(s,i){var l={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)<0&&(l[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,a=Object.getOwnPropertySymbols(s);t<a.length;t++)i.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(s,a[t])&&(l[a[t]]=s[a[t]]);return l};const Oe=(s,i)=>{var l,a;const t=c.useContext(ae),r=c.useContext(ne),{getPrefixCls:d,direction:p,radio:h}=c.useContext(K),n=c.useRef(null),u=de(i,n),{isFormItemInput:$}=c.useContext(ue),m=z=>{var f,T;(f=s.onChange)===null||f===void 0||f.call(s,z),(T=t==null?void 0:t.onChange)===null||T===void 0||T.call(t,z)},{prefixCls:y,className:v,rootClassName:R,children:N,style:j}=s,w=Pe(s,["prefixCls","className","rootClassName","children","style"]),B=d("radio",y),k=((t==null?void 0:t.optionType)||r)==="button",S=k?`${B}-button`:B,[I,o]=le(B),C=Object.assign({},w),P=c.useContext(he);t&&(C.name=t.name,C.onChange=m,C.checked=s.value===t.value,C.disabled=(l=C.disabled)!==null&&l!==void 0?l:t.disabled),C.disabled=(a=C.disabled)!==null&&a!==void 0?a:P;const D=X(`${S}-wrapper`,{[`${S}-wrapper-checked`]:C.checked,[`${S}-wrapper-disabled`]:C.disabled,[`${S}-wrapper-rtl`]:p==="rtl",[`${S}-wrapper-in-form-item`]:$},h==null?void 0:h.className,v,R,o);return I(c.createElement(xe,{component:"Radio",disabled:C.disabled},c.createElement("label",{className:D,style:Object.assign(Object.assign({},h==null?void 0:h.style),j),onMouseEnter:s.onMouseEnter,onMouseLeave:s.onMouseLeave},c.createElement(be,Object.assign({},C,{className:X(C.className,!k&&me),type:"radio",prefixCls:S,ref:u})),N!==void 0?c.createElement("span",null,N):null)))},De=c.forwardRef(Oe),A=De,ze=c.forwardRef((s,i)=>{const{getPrefixCls:l,direction:a}=c.useContext(K),[t,r]=_e(s.defaultValue,{value:s.value}),d=f=>{const T=t,F=f.target.value;"value"in s||r(F);const{onChange:Q}=s;Q&&F!==T&&Q(f)},{prefixCls:p,className:h,rootClassName:n,options:u,buttonStyle:$="outline",disabled:m,children:y,size:v,style:R,id:N,onMouseEnter:j,onMouseLeave:w,onFocus:B,onBlur:k}=s,S=l("radio",p),I=`${S}-group`,[o,C]=le(S);let P=y;u&&u.length>0&&(P=u.map(f=>typeof f=="string"||typeof f=="number"?c.createElement(A,{key:f.toString(),prefixCls:S,disabled:m,value:f,checked:t===f},f):c.createElement(A,{key:`radio-group-value-options-${f.value}`,prefixCls:S,disabled:f.disabled||m,value:f.value,checked:t===f.value,title:f.title,style:f.style,id:f.id},f.label)));const D=ve(v),z=X(I,`${I}-${$}`,{[`${I}-${D}`]:D,[`${I}-rtl`]:a==="rtl"},h,n,C);return o(c.createElement("div",Object.assign({},ge(s,{aria:!0,data:!0}),{className:z,style:R,onMouseEnter:j,onMouseLeave:w,onFocus:B,onBlur:k,id:N,ref:i}),c.createElement(Re,{value:{onChange:d,value:t,disabled:s.disabled,name:s.name,optionType:s.optionType}},P)))}),Te=c.memo(ze);var Me=globalThis&&globalThis.__rest||function(s,i){var l={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)<0&&(l[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,a=Object.getOwnPropertySymbols(s);t<a.length;t++)i.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(s,a[t])&&(l[a[t]]=s[a[t]]);return l};const Le=(s,i)=>{const{getPrefixCls:l}=c.useContext(K),{prefixCls:a}=s,t=Me(s,["prefixCls"]),r=l("radio",a);return c.createElement(qe,{value:"button"},c.createElement(A,Object.assign({prefixCls:r},t,{type:"radio",ref:i})))},Fe=c.forwardRef(Le),W=A;W.Button=Fe;W.Group=Te;W.__ANT_RADIO=!0;const H=W;function Ge(s){return L.get("/api/v3/member/courses/learned",s)}function He(s,i){return L.get(`/api/v3/member/learned/course/${s}`,i)}function Ae(s){return L.get("/addons/zhibo/api/v1/member/courses/learned",s)}function We(s){return L.get("/addons/MeeduTopics/api/v2/member/topics/view",s)}function Ve(s){return L.get("/addons/MeeduBooks/api/v2/member/book/view",s)}function te(s){return L.get("/addons/templateOne/api/v1/like/courses",s)}function Xe(s){return L.get("/addons/MeeduTopics/api/v1/user/collect",s)}const Je="_content_1dse4_1",Ue="_container_1dse4_9",Ke="_icon_1dse4_37",O={content:Je,container:Ue,"top-box":"_top-box_1dse4_18","top-title":"_top-title_1dse4_26",icon:Ke,"top-tabs":"_top-tabs_1dse4_42","active-tab-item":"_active-tab-item_1dse4_50","tab-item":"_tab-item_1dse4_67","top-status":"_top-status_1dse4_84","item-radio":"_item-radio_1dse4_92","list-box":"_list-box_1dse4_112"},Qe="_box_1x9qw_1",Ye="_item_1x9qw_5",Ze="_icon_1x9qw_27",x={box:Qe,"item-box":"_item-box_1x9qw_5",item:Ye,"left-item":"_left-item_1x9qw_18",icon:Ze,"right-item":"_right-item_1x9qw_43","item-title":"_item-title_1x9qw_48","item-info":"_item-info_1x9qw_60","item-text":"_item-text_1x9qw_67","item-progress":"_item-progress_1x9qw_77","detail-button":"_detail-button_1x9qw_84","completed-button":"_completed-button_1x9qw_102","continue-button":"_continue-button_1x9qw_119"},et="_mask_17e1u_17",tt="_scaleBig_17e1u_1",st="_rotate360_17e1u_1",it="_title_17e1u_101",E={mask:et,"dialog-login-box":"_dialog-login-box_17e1u_31",scaleBig:tt,"dialog-tabs":"_dialog-tabs_17e1u_43","btn-close":"_btn-close_17e1u_52",rotate360:st,"item-tab":"_item-tab_17e1u_64","progress-box":"_progress-box_17e1u_72","progress-item":"_progress-item_17e1u_83",title:it,"item-time":"_item-time_17e1u_116","item-text":"_item-text_17e1u_125","item-progress":"_item-progress_17e1u_135"},ot=({open:s,onCancel:i,id:l})=>{const a=G(),[t,r]=c.useState([]),[d,p]=c.useState(!1);c.useEffect(()=>{r([]),s&&l>0&&h()},[s,l]);const h=()=>{d||(p(!0),He(l,{}).then(u=>{let $=u.data;const m=[];for(let y in $)m.push($[y]);r(m),p(!1)}).catch(u=>{p(!1)}))},n=u=>{a("/courses/video/"+u.id)};return e.jsx(e.Fragment,{children:s&&e.jsx("div",{className:E.mask,children:e.jsxs("div",{className:E["dialog-login-box"],children:[e.jsxs("div",{className:E["dialog-tabs"],children:[e.jsx("div",{className:E["item-tab"],children:"学习进度"}),e.jsx("img",{className:E["btn-close"],onClick:()=>i(),src:pe})]}),e.jsxs("div",{className:E["progress-box"],children:[d&&e.jsx(ie,{children:e.jsx("div",{className:"float-left d-j-flex",children:e.jsx(fe,{size:"large"})})}),!d&&t.length===0&&e.jsx(J,{span:24,children:e.jsx(oe,{})}),!d&&t.length>0&&t.map(u=>e.jsxs("div",{className:E["progress-item"],onClick:()=>n(u),children:[e.jsx("div",{className:E.title,children:u.title}),e.jsxs("div",{className:E["item-time"],children:[u.watch_record&&u.watch_record.watch_seconds!==0?e.jsx(Z,{seconds:u.watch_record.watch_seconds}):e.jsx("span",{children:"0:00"})," ","/ ",e.jsx(Z,{seconds:u.duration})]}),u.watch_record&&u.watch_record.watch_seconds>=u.duration?e.jsx("div",{className:E["item-text"],children:"已学完"}):e.jsx("div",{className:E["item-progress"],children:"未学完"})]},u.id))]})]})})})},at=({list:s,currentStatus:i})=>{const l=G();c.useState(!1);const[a,t]=c.useState(!1),[r,d]=c.useState(0),p=n=>{if(n.progress<100&&n.last_view_video.length!==0){let u=n.last_view_video.video_id;l("/courses/video/"+u)}else h(n.course_id)},h=n=>{let u=i===2?3:2;l("/courses/detail/"+n+"?tab="+u)};return e.jsxs(e.Fragment,{children:[e.jsx(ot,{open:a,id:r,onCancel:()=>t(!1)}),e.jsxs("div",{className:x.box,children:[i===1&&s.map(n=>e.jsx("div",{className:x["item-box"],children:n.course&&n.course.id&&e.jsxs("div",{className:x.item,children:[e.jsxs("div",{className:x["left-item"],children:[e.jsx(q,{value:n.course.thumb,border:4,width:160,height:120}),n.is_subscribe===1&&e.jsx("div",{className:x.icon,children:"已订阅"})]}),e.jsxs("div",{className:x["right-item"],children:[e.jsx("div",{className:x["item-title"],children:n.course.title}),e.jsx("div",{className:x["item-info"],children:e.jsxs("div",{className:x["item-text"],children:["已学完：",e.jsxs("span",{children:[n.learned_count,"课时"]})," / 共",n.course.videos_count,"课时"]})})]}),e.jsx("div",{className:x["detail-button"],onClick:()=>{d(n.course_id),t(!0)},children:"学习进度"}),n.is_watched===1&&e.jsx("div",{className:x["completed-button"],onClick:()=>{p(n)},children:"学习完成"}),n.is_watched!==1&&e.jsx("div",{className:x["continue-button"],onClick:()=>{p(n)},children:"继续学习"})]})},n.id+"course-learn")),i===2&&s.map(n=>e.jsx("div",{className:x["item-box"],children:n.course&&n.course.id&&e.jsxs("div",{className:x.item,children:[e.jsxs("div",{className:x["left-item"],children:[e.jsx(q,{value:n.course.thumb,border:4,width:160,height:120}),e.jsx("div",{className:x.icon,children:"已订阅"})]}),e.jsxs("div",{className:x["right-item"],children:[e.jsx("div",{className:x["item-title"],children:n.course.title}),e.jsx("div",{className:x["item-info"],children:e.jsxs("div",{className:x["item-text"],children:["已学完：",e.jsxs("span",{children:[n.learned_count,"课时"]})," / 共",n.course.videos_count,"课时"]})})]}),e.jsx("div",{className:x["detail-button"],onClick:()=>{d(n.course_id),t(!0)},children:"学习进度"}),e.jsx("div",{className:x["continue-button"],onClick:()=>{h(n.course_id)},children:"课程目录"})]})},n.id+"course-sub")),i===3&&s.map(n=>e.jsx("div",{className:x["item-box"],children:n.course&&n.course.id&&e.jsxs("div",{className:x.item,children:[e.jsx("div",{className:x["left-item"],children:e.jsx(q,{value:n.course.thumb,border:4,width:160,height:120})}),e.jsxs("div",{className:x["right-item"],children:[e.jsx("div",{className:x["item-title"],children:n.course.title}),e.jsxs("div",{className:x["item-info"],children:[e.jsxs("div",{className:x["item-text"],children:["已学完：",e.jsxs("span",{children:[n.learned_count,"课时"]})," / 共",n.course.videos_count,"课时"]}),n.created_at&&e.jsxs("div",{className:x["item-text"],children:["收藏时间：",M(n.created_at)]})]})]}),e.jsx("div",{className:x["continue-button"],onClick:()=>{h(n.course_id)},children:"详情"})]})},n.id+"course-collect"))]})]})},nt="_box_1x9qw_1",lt="_item_1x9qw_5",rt="_icon_1x9qw_27",b={box:nt,"item-box":"_item-box_1x9qw_5",item:lt,"left-item":"_left-item_1x9qw_18",icon:rt,"right-item":"_right-item_1x9qw_43","item-title":"_item-title_1x9qw_48","item-info":"_item-info_1x9qw_60","item-text":"_item-text_1x9qw_67","item-progress":"_item-progress_1x9qw_77","detail-button":"_detail-button_1x9qw_84","completed-button":"_completed-button_1x9qw_102","continue-button":"_continue-button_1x9qw_119"},ct=({list:s,currentStatus:i})=>{const l=G();c.useState(!1);const a=t=>{let r=i!==3?3:2;l("/live/detail/"+t+"?tab="+r)};return e.jsxs("div",{className:b.box,children:[i===1&&s.map(t=>e.jsx("div",{className:b["item-box"],children:t.course&&t.course.id&&e.jsxs("div",{className:b.item,children:[e.jsxs("div",{className:b["left-item"],children:[e.jsx(q,{value:t.course.thumb,border:4,width:160,height:120}),t.is_subscribe===1&&e.jsx("div",{className:b.icon,children:"已订阅"})]}),e.jsxs("div",{className:b["right-item"],children:[e.jsx("div",{className:b["item-title"],children:t.course.title}),e.jsxs("div",{className:b["item-info"],children:[e.jsxs("div",{className:b["item-text"],children:["已学完：",e.jsxs("span",{children:[t.learned_count,"课时"]})," / 共",t.course.videos_count,"课时"]}),t.course.status===2&&e.jsx("div",{className:b["item-progress"],children:"已结课"}),t.course.next_video&&t.course.next_video.length!==0&&e.jsxs("div",{className:b["item-progress"],children:["下节直播：",t.course.next_video.title,"(",M(t.course.next_video.published_at),")"]})]})]}),e.jsx("div",{className:b["continue-button"],onClick:()=>{a(t.course_id)},children:"观看直播"})]})},t.id+"live-learn")),i===2&&s.map(t=>e.jsx("div",{className:b["item-box"],children:t.course&&t.course.id&&e.jsxs("div",{className:b.item,children:[e.jsxs("div",{className:b["left-item"],children:[e.jsx(q,{value:t.course.thumb,border:4,width:160,height:120}),e.jsx("div",{className:b.icon,children:"已订阅"})]}),e.jsxs("div",{className:b["right-item"],children:[e.jsx("div",{className:b["item-title"],children:t.course.title}),e.jsxs("div",{className:b["item-info"],children:[e.jsxs("div",{className:b["item-text"],children:["已学完：",e.jsxs("span",{children:[t.learned_count,"课时"]})," / 共",t.course.videos_count,"课时"]}),t.course.status===2&&e.jsx("div",{className:b["item-progress"],children:"已结课"}),t.course.next_video&&t.course.next_video.length!==0&&e.jsxs("div",{className:b["item-progress"],children:["下节直播：",t.course.next_video.title,"(",M(t.course.next_video.published_at),")"]})]})]}),e.jsx("div",{className:b["continue-button"],onClick:()=>{a(t.course_id)},children:"直播排课"})]})},t.id+"live-sub")),i===3&&s.map(t=>e.jsx("div",{className:b["item-box"],children:e.jsxs("div",{className:b.item,children:[e.jsx("div",{className:b["left-item"],children:e.jsx(q,{value:t.thumb,border:4,width:160,height:120})}),e.jsxs("div",{className:b["right-item"],children:[e.jsx("div",{className:b["item-title"],children:t.title}),e.jsx("div",{className:b["item-info"],children:t.created_at&&e.jsxs("div",{className:b["item-text"],children:["收藏时间：",M(t.created_at)]})})]}),e.jsx("div",{className:b["continue-button"],onClick:()=>{a(t.id)},children:"详情"})]})},t.id+"live-collect"))]})},dt="_box_1x9qw_1",ut="_item_1x9qw_5",ht="_icon_1x9qw_27",_={box:dt,"item-box":"_item-box_1x9qw_5",item:ut,"left-item":"_left-item_1x9qw_18",icon:ht,"right-item":"_right-item_1x9qw_43","item-title":"_item-title_1x9qw_48","item-info":"_item-info_1x9qw_60","item-text":"_item-text_1x9qw_67","item-progress":"_item-progress_1x9qw_77","detail-button":"_detail-button_1x9qw_84","completed-button":"_completed-button_1x9qw_102","continue-button":"_continue-button_1x9qw_119"},xt=({list:s,currentStatus:i})=>{const l=G();c.useState(!1);const a=r=>{l("/book/read/"+r.article_id)},t=r=>{let d=i===2?3:2;l("/book/detail/"+r+"?tab="+d)};return e.jsxs("div",{className:_.box,children:[i===1&&s.map(r=>e.jsx("div",{className:_["item-box"],children:r.book&&r.book.id&&e.jsxs("div",{className:_.item,children:[e.jsxs("div",{className:_["left-item"],children:[e.jsx(q,{value:r.book.thumb,border:4,width:90,height:120}),r.is_subscribe===1&&e.jsx("div",{className:_.icon,children:"已订阅"})]}),e.jsxs("div",{className:_["right-item"],children:[e.jsx("div",{className:_["item-title"],children:r.book.name}),e.jsx("div",{className:_["item-info"],children:r.created_at&&e.jsxs("div",{className:_["item-text"],children:["上次浏览：",U(r.created_at)]})})]}),e.jsx("div",{className:_["continue-button"],onClick:()=>{a(r)},children:"继续学习"})]})},r.id+"book-learn")),i===2&&s.map(r=>e.jsx("div",{className:_["item-box"],children:r.book&&r.book.id&&e.jsxs("div",{className:_.item,children:[e.jsxs("div",{className:_["left-item"],children:[e.jsx(q,{value:r.book.thumb,border:4,width:90,height:120}),e.jsx("div",{className:_.icon,children:"已订阅"})]}),e.jsxs("div",{className:_["right-item"],children:[e.jsx("div",{className:_["item-title"],children:r.book.name}),e.jsx("div",{className:_["item-info"],children:r.last_view&&r.last_view.length===0&&r.created_at?e.jsxs("div",{className:_["item-text"],children:["订阅时间：",M(r.created_at)]}):e.jsxs("div",{className:_["item-text"],children:["上次浏览：",U(r.created_at)]})})]}),e.jsx("div",{className:_["continue-button"],onClick:()=>{t(r.book_id)},children:"章节目录"})]})},r.id+"book-sub")),i===3&&s.map(r=>e.jsx("div",{className:_["item-box"],children:e.jsxs("div",{className:_.item,children:[e.jsx("div",{className:_["left-item"],children:e.jsx(q,{value:r.thumb,border:4,width:90,height:120})}),e.jsxs("div",{className:_["right-item"],children:[e.jsx("div",{className:_["item-title"],children:r.title}),e.jsx("div",{className:_["item-info"],children:r.created_at&&e.jsxs("div",{className:_["item-text"],children:["收藏时间：",M(r.created_at)]})})]}),e.jsx("div",{className:_["continue-button"],onClick:()=>{t(r.id)},children:"详情"})]})},r.id+"book-collect"))]})},bt="_box_1x9qw_1",mt="_item_1x9qw_5",_t="_icon_1x9qw_27",g={box:bt,"item-box":"_item-box_1x9qw_5",item:mt,"left-item":"_left-item_1x9qw_18",icon:_t,"right-item":"_right-item_1x9qw_43","item-title":"_item-title_1x9qw_48","item-info":"_item-info_1x9qw_60","item-text":"_item-text_1x9qw_67","item-progress":"_item-progress_1x9qw_77","detail-button":"_detail-button_1x9qw_84","completed-button":"_completed-button_1x9qw_102","continue-button":"_continue-button_1x9qw_119"},vt=({list:s,currentStatus:i})=>{const l=G();c.useState(!1);const a=t=>{l("/topic/detail/"+t.topic.id)};return e.jsxs("div",{className:g.box,children:[i===1&&s.map(t=>e.jsx("div",{className:g["item-box"],children:t.topic&&t.topic.id&&e.jsxs("div",{className:g.item,children:[e.jsxs("div",{className:g["left-item"],children:[e.jsx(q,{value:t.topic.thumb,border:4,width:160,height:120}),t.is_subscribe===1&&e.jsx("div",{className:g.icon,children:"已订阅"})]}),e.jsxs("div",{className:g["right-item"],children:[e.jsx("div",{className:g["item-title"],children:t.topic.title}),e.jsx("div",{className:g["item-info"],children:t.created_at&&e.jsxs("div",{className:g["item-text"],children:["上次浏览：",U(t.created_at)]})})]}),e.jsx("div",{className:g["continue-button"],onClick:()=>{a(t)},children:"立即查看"})]})},t.id+"topic-learn")),i===2&&s.map(t=>e.jsx("div",{className:g["item-box"],children:t.topic&&t.topic.id&&e.jsxs("div",{className:g.item,children:[e.jsxs("div",{className:g["left-item"],children:[e.jsx(q,{value:t.topic.thumb,border:4,width:160,height:120}),e.jsx("div",{className:g.icon,children:"已订阅"})]}),e.jsxs("div",{className:g["right-item"],children:[e.jsx("div",{className:g["item-title"],children:t.topic.title}),e.jsx("div",{className:g["item-info"],children:t.created_at&&e.jsxs("div",{className:g["item-text"],children:["订阅时间：",M(t.created_at)]})})]}),e.jsx("div",{className:g["continue-button"],onClick:()=>{a(t)},children:"立即查看"})]})},t.id+"topic-sub")),i===3&&s.map(t=>e.jsx("div",{className:g["item-box"],children:t.topic&&t.topic.id&&e.jsxs("div",{className:g.item,children:[e.jsx("div",{className:g["left-item"],children:e.jsx(q,{value:t.topic.thumb,border:4,width:160,height:120})}),e.jsxs("div",{className:g["right-item"],children:[e.jsx("div",{className:g["item-title"],children:t.topic.title}),e.jsx("div",{className:g["item-info"],children:t.created_at&&e.jsxs("div",{className:g["item-text"],children:["收藏时间：",M(t.created_at)]})})]}),e.jsx("div",{className:g["continue-button"],onClick:()=>{a(t)},children:"立即查看"})]})},t.id+"topic-collect"))]})},kt=()=>{const[s,i]=c.useState(!1),[l,a]=c.useState("vod"),[t,r]=c.useState([]),[d,p]=c.useState(1),[h,n]=c.useState([]),[u,$]=c.useState(!1),[m,y]=c.useState(1),[v,R]=c.useState(10),[N,j]=c.useState(0),w=je(o=>o.systemConfig.value.configFunc);c.useEffect(()=>{document.title="我的学习";let o=[{name:"录播课",value:"vod"}];w.live&&o.push({name:"直播课",value:"live"}),w.book&&o.push({name:"电子书",value:"book"}),w.topic&&o.push({name:"图文",value:"topic"}),r(o)},[w]),c.useEffect(()=>{d==1?B():d==2?k():d==3&&S()},[u,m,v,d,l]);const B=()=>{s||(i(!0),l==="vod"?Ge({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="live"?Ae({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="topic"?We({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="book"&&Ve({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}))},k=()=>{s||(i(!0),l==="vod"?Ce({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="live"?ye({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="topic"?Ne({page:m,size:v}).then(o=>{n(o.data.data.data),j(o.data.data.total),i(!1)}).catch(o=>{i(!1)}):l==="book"&&we({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}))},S=()=>{s||(i(!0),l==="vod"?ke({page:m,size:v}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="live"?te({page:m,size:v,type:"live"}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}):l==="topic"?Xe({page:m,size:v}).then(o=>{n(o.data.data.data),j(o.data.data.total),i(!1)}).catch(o=>{i(!1)}):l==="book"&&te({page:m,size:v,type:"book"}).then(o=>{n(o.data.data),j(o.data.total),i(!1)}).catch(o=>{i(!1)}))},I=o=>{s||p(o.target.value)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:O.content,children:e.jsxs("div",{className:O.container,children:[e.jsxs("div",{className:O["top-box"],children:[e.jsxs("div",{className:O["top-title"],children:[e.jsx("img",{className:O.icon,src:Se}),"我的学习"]}),e.jsx("div",{className:O["top-tabs"],children:t.map((o,C)=>e.jsx("div",{className:l===o.value?O["active-tab-item"]:O["tab-item"],onClick:()=>{s||a(o.value)},children:o.name},C))}),e.jsx("div",{className:O["top-status"],children:e.jsxs(H.Group,{onChange:I,value:d,children:[e.jsx(H,{value:1,style:{marginRight:40},children:"在学"}),e.jsx(H,{value:2,style:{marginRight:40},children:"订阅"}),e.jsx(H,{value:3,children:"收藏"})]})})]}),e.jsxs("div",{className:O["list-box"],children:[s&&e.jsx(ie,{children:e.jsx("div",{style:{width:1200,display:"flex",flexDirection:"column"},children:Array.from({length:5}).map((o,C)=>e.jsxs("div",{style:{width:1200,height:120,marginBottom:30,display:"flex",flexDirection:"row"},children:[e.jsx(Y.Button,{active:!0,style:{width:160,height:120,borderRadius:4,marginRight:30}}),e.jsx(Y,{active:!0,paragraph:{rows:1}})]},C))})}),!s&&h.length===0&&e.jsx(J,{span:24,children:e.jsx(oe,{})}),!s&&h.length>0&&e.jsxs(e.Fragment,{children:[l==="vod"&&e.jsx(at,{list:h,currentStatus:d}),l==="live"&&e.jsx(ct,{list:h,currentStatus:d}),l==="book"&&e.jsx(xt,{list:h,currentStatus:d}),l==="topic"&&e.jsx(vt,{list:h,currentStatus:d})]}),!s&&h.length>0&&v<N&&e.jsx(J,{span:24,style:{display:"flex",justifyContent:"center",marginTop:50},children:e.jsx($e,{onChange:o=>{y(o)},pageSize:v,defaultCurrent:m,total:N})})]})]})})})};export{kt as default};
