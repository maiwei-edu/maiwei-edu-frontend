import{p as t,G as H,s,a6 as W,a7 as u,a8 as v,a9 as E,I as es,aa as h,J as ls,K as ns,t as D,ab as y,ac as Z}from"./index-d3b20173.js";import{T as as}from"./index-e9655fcb.js";import{U as X}from"./index-7f0749c1.js";const L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAABCFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+Q59ffAAAAV3RSTlMAAQIDBAUGBwgJCgwNDg8QERITFRcaGxweICEiIyQmKSstMDI1Nz1xc4WHi42RlZmbnaGkqKutr7CytLa3ur7Aw8bJzM3O0dnb3d/g4eLk5ujp6+zu7/FimenXAAAA00lEQVQ4y73UxVoCYBCGUUwwsQu7uwsVEVsBsc/934l34PwbnfXZvfN8mcw/3PD62lCsJuvcJin6AlWoQzlJ3Q8GqgZ3Aynqpj9FXedTVKU3RV11/64malDuSlGXnSmq1BGoKlzkUtRZNkWdtgchS3DcFv1OBTbCF1v+hs3QLX3BVugWP2G7KXILH7ATuvl32GuO3Nwb7Idu9hUOWiI304DD1shNv8BRmGOqDidR3EyhCsVs5Maf4TwXubEn2A27jT6iEQ/XyAPFhBnMr670/N3I/gCdaT9gxC7oCgAAAABJRU5ErkJggg==",Q=({text:e,images:N,iframes:w})=>{const[m,C]=t.useState(""),[x,p]=t.useState(!1);t.useEffect(()=>{H(document.getElementById("questionCont"))},[document.getElementById("questionCont")]);const I=n=>{C(n),p(!0)};return s.jsxs(s.Fragment,{children:[x&&s.jsxs("div",{className:W["preview-image"],children:[s.jsx("img",{src:L,className:W["back-detail"],onClick:()=>p(!1)}),s.jsx("div",{className:W["pic-item"],children:s.jsx("div",{className:W.pic,style:{backgroundImage:"url("+m+")"}})})]}),s.jsx("div",{className:"content-render",id:"questionCont",children:e}),(N.length>0||w.length>0)&&s.jsxs("div",{className:"images-render",children:[N.length>0&&s.jsx(s.Fragment,{children:N.map((n,k)=>s.jsx("div",{className:"thumb-bar",onClick:()=>I(n),children:s.jsx(as,{value:n,width:200,height:200,border:8})},k+"thumb"))}),w.length>0&&s.jsx(s.Fragment,{children:w.map((n,k)=>s.jsx("div",{className:"iframe-bar",dangerouslySetInnerHTML:{__html:n}},k+"iframe"))})]})]})},K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAFdQTFRFAAAAAP+AAL+AAMZxAMl5ANB7Bcd0A8p4A8h3BMp3BMh3A8l3Bcd2BMl3BMh3BMl3BMh3BMl4A8h3A8h3BMl3BMl3BMh3S9edUtihWtql4/jv+/79////mrLI7AAAABZ0Uk5TAAIECRMbN1dYeIeWl6ustNLT4+vr+GkRyVQAAAEOSURBVDjLldXZcoQgEAXQZkZN3Df6jqL//515EJEQ0M59kuIUFltD5EcVZTtoZj20ZaEolbya4GWq8ijLakYQrrO/7ntGJPNXwF4NEmlevnv3SKZ/e+PdOKC/xmxwm8bNAw+xM8rmJzgfq1TjMTURUc7PkHMiqtL9izGf46siUlPSrdu+G7vviopbd0IUVN66bbGtkrpbt57NlkaRw0ha5KCJRQ7s4MeYJe3A7tfm6oo4aDcZ4zpjDgO153ad3VGH9lpwC+IOpbeFB4k7FP6hWLd93+NuUr+O2SEjDlVwcNct7jgPr8LiLXt4FeSXS3xd5QVAXlLERUpe9uSF9B+lWV7s7fPRjZpZj134fPwAaIFukypmzxgAAAAASUVORK5CYII=",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAFpQTFRFAAAA/wAA/0BA/1VV/1FR/0xV/09P/09P/05O/09P/01P/0xQ/05P/05P/01P/05P/05P/01P/0xP/01P/01P/01P/05Q/3h5/4mK/4qL/5aX/7i4//z8////2rbTIAAAABV0Uk5TAAIECRMbN1dYeIeWl6ustNLT4+v4nN+bkwAAAQRJREFUOMuVlesSgiAQhdcyy2sabJLC+79mJpY7kHk6v2D2Gy67y4FIKsnyulVaq7bOs4S2dCpuLHQrTl+xtNQcSJdpzF0Uf5E6B9ih4g1VB8kdr7yp61Gs94ObyHXNin+q+tyDd7TcKFV7oPJZKnlX5VwPvQ/qV42KdX4fxv497sfhvkaKqQ9EfQfnrPHDh3VuEHVPKBM7jO5NmolzowhllItZbxdy5mwvQjk18tAeMMa69RBeNXUckzHHHQXZnsmYY0VhFj0ZcqxxEN4avExLNZoeOOFwCTeawkRNAbcZ3rjwU8AfF/xccQPALQU2Kdz2cCP9w5pxs1++j6Z7fR9dE34fT8MDa06o3EhhAAAAAElFTkSuQmCC",R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IArs4c6QAAAXpQTFRFAAAAAP8AAP+AAKpVAP9VAMxmANWAALZtANttAMZxAMyAANF0AMR2AMx3AL9wAMN4AMJ5AM55AMh6AM52AMh2AMd4AMl0B8h1Bsh5AMp3Bsp3Bst0BsZ3Bsx3Bcl3Bct4BcV4Bcp4BcZ2Bct7Bcd5BMh3BMx3BMl5BMp3BMh2BMh4A8d3A8h5A8t5A8p2A8h2A8l4A8d3A8p4A8l4A8p4A8l3Bcl4Bch4Bch3Bcl2Bcd2Bch3Bch2BMl3BMl4BMl4BMd3BMh3BMd2BMd4BMh3BMl4BMh4BMl3BMl4BMh3BMh2BMh4A8h2A8p4A8l2Bch3Bch3Bch2BMh3BMh3BMh4BMh3BMd2BMh3BMh3BMl3BMh3BMl3BMh3BMl3BMl3BMh3BMl3BMh3BMh3A8l3A8h3A8h3A8h3A8h3A8h3A8h3A8h3BMh3BMh3BMh3BMh3BMh3BMh3BMd3BMh3BMh3BMh2BMh3BMh3BMh2BMh3BMh3BMh2BMh3BMl3BMh36K5ZjQAAAH10Uk5TAAECAwMFBgcHCQoLDQ8QERUVFxocICElKisrLC0tLzE1NTY2Nzw8PT5FRklKSlJUVVZXWVteaGprbG5vcHZ3e3x+f4CDiIqOjo+RkZmZm56fqKytsba3u7/Bw8PHx8rMz9fa3N7j5efp6+zu8PHy9fb39/n6+vv8/P3+/v4gOVUBAAABJ0lEQVQYGa3B1UICUQAE0MFEERHF7gALFVts7O7A7g5MRGT+Xe/dZSWWN85BchlKO/oGehqM0Fe+dEfpZcuJeAWrX/y3V4cY9ltG8bsRpfOdsRYRof6V8YahsVxTh9+OsBnqOjZAYXulZmHwkRoXFB5qPIDDxzAvFCcMm8eftg+qAhYI2QGq1gwwVwHd31S1QqikajMVWfv3JUB/iIohCE1U7GYifZu8KgTGqZiE0EjpyISUdf45zwfmKE1AKKNUAyxTOjUj7YGCG4LRT2E0Y5aqgzzHF4VmSIeUgtSEKH3mQBphAjtQWJ+pzwmVh7q8CDNdUMdbNTQlT4wT6kWElmfGCI4hSsUlo/i6ECN3+oWan41ixLNNnYUo3KzUIgFrU7uruQjJ9QujV/uoCNLAzAAAAABJRU5ErkJggg==",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IArs4c6QAAAYBQTFRFAAAAAP8AAP+AAKpVAP9VAMxmANWAALZtANttAMZxAMyAANF0AMR2AMx3AL9wAMN4AMJ5AM55AMh6AM52AMh2AMd4AMl0B8h1Bsh5AMp3Bsp3Bst0BsZ3Bsx3Bcl3Bct4BcV4Bcp4BcZ2Bct7Bcd5BMh3BMx3BMl5BMp3BMh2BMh4A8d3A8h5A8t5A8d2A8h2A8l4A8d3A8d4A8l4A8p4A8l3Bcl4Bch4Bch3Bcl2Bcl4Bcd2Bch3Bch2BMl3BMl4BMl4BMd3BMh4BMh3BMd2BMd4BMh3BMl4BMh4BMl3BMl4BMp3BMh2BMh4A8h4A8p4A8l2Bch3Bch3Bch4BMh3BMh3BMh4BMh3BMd2BMh3BMh3BMl3BMh3BMl3BMh3BMl3BMl3BMh3BMl3BMh3BMh3A8l3A8h3A8h3A8h3A8h3A8h3A8h3A8h3BMh3BMh3BMh3BMh3BMh3BMh3BMd3BMh3BMh3BMh2BMh3BMh3BMh2BMh3BMh3BMh2BMh3BMl3BMh3M13thwAAAH90Uk5TAAECAwMFBgcHCQoLDQ8QERUVFxocICElKisrLC0tLzE1NTY2Nzw8PT5FRklKSlJUVVZXWVteaGprbGxub3B2d3t8fX5/gIOIio6Oj5GRmZmbnp+oq62xtre7v8HDw8fHyszP19rc3uPl5+nr7O7w8fL19vf3+fr6+/z8/f7+/iqH6mQAAAEkSURBVBgZrcFlQ8JQAAXQi12I2N3Y3d3d3d0tYgHq7l/X9zYmC795Dv6Zu6qhqToTf0ifOFUoXC+VwCp50kfd11oWTPIvaPDUAoMaL00+hxAm+5EWSjt0iee08VKEkFHa2oHG7aW9OqgG+IctqA4ofVKnUHpPghDnpzAYM03NfkpFgEI1hFxKxcAipRMnou4p9ECopHSYiIhV/jhLBWYojUGoomo7FtGb5GUGMEzVOIQCatYjEb93lw10KlT1QUgIUrPigLMQaP2gphbSMUNm8aP+jZqgC9IIdaNAxRNDdqBKf6ZurveBuiZopmjryAGN64o2/B7oyp5p1Y8wza80m4eB54YG/m6YpC0H+Gu3FFZ5C7eUfBt1sOfIaezoaiuPw7/6Bsfv/68piGEGAAAAAElFTkSuQmCC",Y=({question:e,reply:N,isCorrect:w,isOver:m,score:C,wrongBook:x,num:p,update:I})=>{t.useState(!1);const[n,k]=t.useState(null),[T,F]=t.useState(!1),[U,z]=t.useState(""),[B,i]=t.useState(!1),g={option1:"A",option2:"B",option3:"C",option4:"D",option5:"E",option6:"F",option7:"G",option8:"H",option9:"I",option10:"J"};t.useEffect(()=>{k(N),i(!!x)},[N,x]),t.useEffect(()=>{H(document.getElementById("questionCont"))},[document.getElementById("questionCont")]);const S=l=>{if(m)return;let d="option"+l;k(d),I(e.id,d,null)},o=l=>{let d=[];for(let c=0;c<l;c++)d.push(c+1);return d},b=l=>{l.target.src&&(l.stopPropagation(),z(l.target.src),F(!0))};return s.jsxs("div",{className:u["choice-item"],children:[T&&s.jsxs("div",{className:u["preview-image"],children:[s.jsx("img",{src:L,className:u["back-detail"],onClick:()=>F(!1)}),s.jsx("div",{className:u["pic-item"],children:s.jsx("div",{className:u.pic,style:{backgroundImage:"url("+U+")"}})})]}),s.jsx("div",{className:u.info,children:s.jsxs("span",{className:u.tit,children:[p,".",e.type_text,"（",e.score,"分）"]})}),s.jsx("div",{className:u["question-content"],children:s.jsx(Q,{text:e.content_transform.text,images:e.content_transform.images,iframes:e.content_transform.iframes})}),s.jsx("div",{className:u["choice-box"],children:o(10).map(l=>s.jsx("div",{children:e["option"+l]&&s.jsxs("div",{className:"option"+l===n?u["choice-active-item"]:u["choice-tap-item"],onClick:()=>S(l),children:[m&&s.jsxs(s.Fragment,{children:[e.answer==="option"+l&&s.jsx("div",{className:u["answer-index"],children:s.jsx("img",{src:K,className:u.icon})}),e.answer!=="option"+l&&"option"+l===n&&s.jsx("div",{className:u["answer-index"],children:s.jsx("img",{src:J,className:u.icon})}),"option"+l!==n&&e.answer!=="option"+l&&s.jsx("div",{className:u.index,children:g["option"+l]}),s.jsx("div",{className:u.content,children:s.jsx("div",{className:u["content-render"],onClick:d=>b(d),id:"questionCont",dangerouslySetInnerHTML:{__html:e["option"+l]}})})]}),!m&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:u.index,children:g["option"+l]}),s.jsx("div",{className:u.content,children:s.jsx("div",{className:u["content-render"],onClick:d=>b(d),id:"questionCont",dangerouslySetInnerHTML:{__html:e["option"+l]}})})]})]})},l+"choice"+e.question_id))}),m&&s.jsxs("div",{className:"analysis-box",children:[s.jsxs("div",{className:"answer-box",children:[s.jsxs("div",{className:"content",children:[s.jsxs("div",{className:"answer",children:[s.jsx("i",{}),"答案：",g[e.answer]]}),!x&&w!==1&&s.jsxs("div",{className:"my-answer",children:[s.jsx("i",{}),"我的答案：",g[n]||"--"]}),!x&&s.jsxs("div",{className:"score",children:[s.jsx("i",{}),"得分：",C]})]}),e.remark&&e.remark!==""&&s.jsxs("div",{className:"button",onClick:()=>i(!B),children:[B&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!B&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})]}),B&&e.remark&&e.remark!==""&&s.jsxs("div",{className:"remark-box",children:[s.jsx("div",{className:"left-remark",children:s.jsxs("div",{className:"tit",children:[s.jsx("i",{}),"解析："]})}),s.jsx("div",{className:"remark",children:s.jsx(Q,{text:e.remark_transform.text,images:e.remark_transform.images,iframes:e.remark_transform.iframes})})]})]})]})},O=({question:e,reply:N,isCorrect:w,isOver:m,score:C,wrongBook:x,num:p,update:I})=>{t.useState(!1);const[n,k]=t.useState([]),[T,F]=t.useState(!1),[U,z]=t.useState(""),[B,i]=t.useState([]),[g,S]=t.useState(!1),o={option1:"A",option2:"B",option3:"C",option4:"D",option5:"E",option6:"F",option7:"G",option8:"H",option9:"I",option10:"J"};t.useEffect(()=>{N!==void 0&&k(N),S(!!x),e.answer?i(e.answer.split(",")):i([])},[N,x,e]),t.useEffect(()=>{H(document.getElementById("questionCont"))},[document.getElementById("questionCont")]);const b=c=>{if(m)return;let a="option"+c,r=[...n],A=r.indexOf(a);A===-1?r.push(a):r.splice(A,1),k(r.sort()),I(e.id,r.join(","),null)},l=c=>{let a=[];for(let r=0;r<c;r++)a.push(r+1);return a},d=c=>{c.target.src&&(c.stopPropagation(),z(c.target.src),F(!0))};return s.jsxs("div",{className:v["choice-item"],children:[T&&s.jsxs("div",{className:v["preview-image"],children:[s.jsx("img",{src:L,className:v["back-detail"],onClick:()=>F(!1)}),s.jsx("div",{className:v["pic-item"],children:s.jsx("div",{className:v.pic,style:{backgroundImage:"url("+U+")"}})})]}),s.jsx("div",{className:v.info,children:s.jsxs("span",{className:v.tit,children:[p,".",e.type_text,"（",e.score,"分）"]})}),s.jsx("div",{className:v["question-content"],children:s.jsx(Q,{text:e.content_transform.text,images:e.content_transform.images,iframes:e.content_transform.iframes})}),s.jsx("div",{className:v["choice-box"],children:l(10).map(c=>s.jsx("div",{children:e["option"+c]&&s.jsxs("div",{className:n.indexOf("option"+c)!==-1?v["choice-active-item"]:v["choice-tap-item"],onClick:()=>b(c),children:[m&&s.jsxs(s.Fragment,{children:[e.answer&&e.answer.indexOf("option"+c)!==-1&&s.jsx("div",{className:v["answer-index"],children:s.jsx("img",{src:K,className:v.icon})}),e.answer&&e.answer.indexOf("option"+c)===-1&&n.indexOf("option"+c)!==-1&&s.jsx("div",{className:v["answer-index"],children:s.jsx("img",{src:J,className:v.icon})}),e.answer&&e.answer.indexOf("option"+c)===-1&&n.indexOf("option"+c)===-1&&s.jsx("div",{className:v.index,children:o["option"+c]}),s.jsx("div",{className:v.content,children:s.jsx("div",{className:v["content-render"],onClick:a=>d(a),id:"questionCont",dangerouslySetInnerHTML:{__html:e["option"+c]}})})]}),!m&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:v.index,children:o["option"+c]}),s.jsx("div",{className:v.content,children:s.jsx("div",{className:v["content-render"],onClick:a=>d(a),dangerouslySetInnerHTML:{__html:e["option"+c]}})})]})]})},c+"select"+e.question_id))}),m&&s.jsxs("div",{className:"analysis-box",children:[s.jsxs("div",{className:"answer-box",children:[s.jsxs("div",{className:"content",children:[s.jsxs("div",{className:"answer",children:[s.jsx("i",{}),"答案：",B.map(c=>s.jsx("span",{children:o[c]},c))]}),w!==1&&s.jsxs("div",{className:"my-answer",children:[s.jsx("i",{}),"我的答案：",n.length>0&&n.map(c=>s.jsx("span",{children:o[c]},c)),n.length==0&&s.jsx(s.Fragment,{children:"--"})]}),!x&&s.jsxs("div",{className:"score",children:[s.jsx("i",{}),"得分：",C]})]}),e.remark&&e.remark!==""&&s.jsxs("div",{className:"button",onClick:()=>S(!g),children:[g&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!g&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})]}),g&&e.remark&&e.remark!==""&&s.jsxs("div",{className:"remark-box",children:[s.jsx("div",{className:"left-remark",children:s.jsxs("div",{className:"tit",children:[s.jsx("i",{}),"解析："]})}),s.jsx("div",{className:"remark",children:s.jsx(Q,{text:e.remark_transform.text,images:e.remark_transform.images,iframes:e.remark_transform.iframes})})]})]})]})},q=({question:e,reply:N,isCorrect:w,isOver:m,score:C,wrongBook:x,num:p,update:I})=>{t.useState(!1);const[n,k]=t.useState(null),[T,F]=t.useState(!1),[U,z]=t.useState(""),[B,i]=t.useState([]),[g,S]=t.useState([]),[o,b]=t.useState(!1);t.useEffect(()=>{let c=N||"",a=[];for(let r=0;r<n;r++)typeof c[r]<"u"?a.push(c[r]):a.push(null);i(a),b(!!x)},[N,x,n]),t.useEffect(()=>{if(typeof e.input_length<"u")k(e.input_length);else if(typeof e.answer<"u"&&e.answer){let d=e.answer.split(",").length;k(d)}else k(0);typeof e>"u"?S([]):typeof e.answer_transform>"u"?S([]):e.answer_transform?S(e.answer_transform):S([])},[e]);const l=d=>{if(m)return;let c;d.target.value===""?c="":c=B,I(e.id,c,null)};return s.jsxs("div",{className:E["choice-item"],children:[T&&s.jsxs("div",{className:E["preview-image"],children:[s.jsx("img",{src:L,className:E["back-detail"],onClick:()=>F(!1)}),s.jsx("div",{className:E["pic-item"],children:s.jsx("div",{className:E.pic,style:{backgroundImage:"url("+U+")"}})})]}),s.jsx("div",{className:E.info,children:s.jsxs("span",{className:E.tit,children:[p,".",e.type_text,"（",e.score,"分）"]})}),s.jsx("div",{className:E["question-content"],children:s.jsx(Q,{text:e.content_transform.text,images:e.content_transform.images,iframes:e.content_transform.iframes})}),s.jsx("div",{className:E["choice-box"],children:B.map((d,c)=>s.jsxs("div",{className:E["input-input-item"],children:[s.jsxs("div",{className:E.name,children:["填空",c+1,"（",g[c].s,"分）："]}),s.jsx("div",{className:E["input-box"],children:s.jsx(es,{className:E.input,disabled:m,type:"text",value:B[c],placeholder:"请输入你的答案",onBlur:a=>{l(a)},onChange:a=>{let r=[...B];r[c]=a.target.value,i(r)}})}),m&&s.jsxs("div",{className:E["icon-box"],children:[B[c]===g[c].a&&s.jsx("img",{src:K,className:E.icon}),B[c]!==g[c].a&&s.jsxs(s.Fragment,{children:[s.jsx("img",{src:J,className:E.icon}),s.jsxs("div",{className:E.answer,children:["答案：",g[c].a]})]})]})]},c+"input"+e.question_id))}),m&&(x&&e.remark&&e.remark!==""||!x||o&&e.remark&&e.remark!=="")&&s.jsxs("div",{className:"analysis-box",children:[x&&e.remark&&e.remark!==""?s.jsx("div",{className:"answer-box",children:s.jsxs("div",{className:"button",onClick:()=>b(!o),children:[o&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!o&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})}):x?s.jsx(s.Fragment,{}):s.jsxs("div",{className:"answer-box",children:[s.jsx("div",{className:"content",children:s.jsxs("div",{className:"score",children:[s.jsx("i",{}),"得分：",C]})}),e.remark&&e.remark!==""&&s.jsxs("div",{className:"button",onClick:()=>b(!o),children:[o&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!o&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})]}),o&&e.remark&&e.remark!==""&&s.jsxs("div",{className:"remark-box",children:[s.jsx("div",{className:"left-remark",children:s.jsxs("div",{className:"tit",children:[s.jsx("i",{}),"解析："]})}),s.jsx("div",{className:"remark",children:s.jsx(Q,{text:e.remark_transform.text,images:e.remark_transform.images,iframes:e.remark_transform.iframes})})]})]})]})},$=({question:e,reply:N,isCorrect:w,isOver:m,score:C,wrongBook:x,num:p,update:I})=>{t.useState(!1);const[n,k]=t.useState(null),[T,F]=t.useState(!1),[U,z]=t.useState(""),[B,i]=t.useState(!1);t.useEffect(()=>{k(N),i(!!x)},[N,x]);const g=S=>{if(m)return;let o=S;k(o),I(e.id,o,null)};return s.jsxs("div",{className:h["choice-item"],children:[T&&s.jsxs("div",{className:h["preview-image"],children:[s.jsx("img",{src:L,className:h["back-detail"],onClick:()=>F(!1)}),s.jsx("div",{className:h["pic-item"],children:s.jsx("div",{className:h.pic,style:{backgroundImage:"url("+U+")"}})})]}),s.jsx("div",{className:h.info,children:s.jsxs("span",{className:h.tit,children:[p,".",e.type_text,"（",e.score,"分）"]})}),s.jsx("div",{className:h["question-content"],children:s.jsx(Q,{text:e.content_transform.text,images:e.content_transform.images,iframes:e.content_transform.iframes})}),s.jsxs("div",{className:h["choice-box"],children:[m&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:n===1?h["judge-active-item"]:h["judge-item"],onClick:()=>g(1),children:[parseInt(e.answer)===1?s.jsx("div",{className:h["answer-index"],children:s.jsx("img",{src:K,className:h.icon})}):n===1?s.jsx("div",{className:h["answer-index"],children:s.jsx("img",{src:J,className:h.icon})}):s.jsx("div",{className:h.index}),"正确"]}),s.jsxs("div",{className:n===0?h["judge-active-item"]:h["judge-item"],onClick:()=>g(0),children:[parseInt(e.answer)===0?s.jsx("div",{className:h["answer-index"],children:s.jsx("img",{src:K,className:h.icon})}):n===0?s.jsx("div",{className:h["answer-index"],children:s.jsx("img",{src:J,className:h.icon})}):s.jsx("div",{className:h.index}),"错误"]})]}),!m&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:n===1?h["judge-active-item"]:h["judge-item"],onClick:()=>g(1),children:[s.jsx("div",{className:h.index,children:s.jsx("strong",{})}),"正确"]}),s.jsxs("div",{className:n===0?h["judge-active-item"]:h["judge-item"],onClick:()=>g(0),children:[s.jsx("div",{className:h.index,children:s.jsx("strong",{})}),"错误"]})]})]}),m&&s.jsxs("div",{className:"analysis-box",children:[s.jsxs("div",{className:"answer-box",children:[s.jsxs("div",{className:"content",children:[s.jsxs("div",{className:"answer",children:[s.jsx("i",{}),"答案：",parseInt(e.answer)===1?"正确":"错误"]}),!x&&w!==1&&s.jsxs("div",{className:"my-answer",children:[s.jsx("i",{}),"我的答案：",parseInt(n)!==-1&&s.jsx("span",{children:parseInt(n)===1?"正确":"错误"}),parseInt(n)===-1&&s.jsx("span",{children:"--"})]}),!x&&s.jsxs("div",{className:"score",children:[s.jsx("i",{}),"得分：",C]})]}),e.remark&&e.remark!==""&&s.jsxs("div",{className:"button",onClick:()=>i(!B),children:[B&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!B&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})]}),B&&e.remark&&e.remark!==""&&s.jsxs("div",{className:"remark-box",children:[s.jsx("div",{className:"left-remark",children:s.jsxs("div",{className:"tit",children:[s.jsx("i",{}),"解析："]})}),s.jsx("div",{className:"remark",children:s.jsx(Q,{text:e.remark_transform.text,images:e.remark_transform.images,iframes:e.remark_transform.iframes})})]})]})]})},is="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAbFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8+T+BWAAAAI3RSTlMASJKOOMdt8um/dy/6zO7Vq1AjFxDDh6GYgnFnXjYoCAatn0ttnxUAAAD6SURBVFjD7dfLCsIwFATQ0apJk75b6/vZ//9HbwRxkXCbiiDCPavADEMW2QRC/AO7KbPBk5Ubi0kMrYRlBhPUA6NGtIumvlr6ckWBviDWjOplG0rakqIZYh2obcKRoeiAWCtqr5jo34Y6k7yk1E4Tjx+ZDj6qTJfCpz4ZUvDtPhnaIaBZOHuKqwWrosr+eWpGXvUcrPn7dcuQDMmQDMmQDMnQD4e23xiy1FrzlRtVLMZ01FJXrnEtqNJh1JpqPVfo33dmHamX1SPfiyMi5K65PYfD5u7SHDHOxeDo8F/EKRpEOemBpU+I1FbcTtUinu3z4LWKZWIhhPihB8jPVhnEPk+EAAAAAElFTkSuQmCC",ms="data:image/png;base64,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",ss=({question:e,reply:N,thumbs:w,isCorrect:m,isOver:C,score:x,showImage:p,wrongBook:I,num:n,update:k})=>{t.useState(!1);const[T,F]=t.useState(""),[U,z]=t.useState({thumb:null,index:null}),[B,i]=t.useState(!1);t.useState("");const[g,S]=t.useState(!1),[o,b]=t.useState([]),[l,d]=t.useState(!0),[c,a]=t.useState(!0);t.useEffect(()=>{F(N),w&&(r(w)?b(JSON.parse(w)):b(w))},[N,I,w]);const r=f=>{if(typeof f=="string")try{let P=JSON.parse(f);return!!(typeof P=="object"&&P)}catch{return!1}},A=f=>{C||j()},j=()=>{k(e.id,T,o)},M=()=>{if(C)return;let f=[...o];f.splice(U.index,1),b(f),i(!1),j()},cs=(f,P)=>{S(!1),z({thumb:f,index:P}),a(!0),i(!0)},rs={name:"file",multiple:!1,method:"POST",action:ls.app_url+"/api/v2/upload/image",headers:{Accept:"application/json",authorization:"Bearer "+ns()},beforeUpload:f=>{o.length>=9&&D.error("最多上传9张图片");const P=f.type==="image/png"||f.type==="image/jpg"||f.type==="image/jpeg";P||D.error(`${f.name}不是图片文件`);const G=f.size/1024/1024<2;return G||D.error("超过2M限制，不允许上传"),P&&G&&!C&&o.length<9||X.LIST_IGNORE},onChange(f){const{status:P,response:G}=f.file;if(P==="done")if(G.code===0){let ts=G.data.url,_=o;_.push(ts),b(_),j()}else D.error(G.msg);else P==="error"&&D.error(`${f.file.name} 上传失败`)}};return s.jsxs("div",{className:y["choice-item"],children:[B&&s.jsxs("div",{className:y["preview-image"],children:[s.jsx("img",{src:L,className:y["back-detail"],onClick:()=>i(!1)}),!C&&!g&&c&&s.jsx("img",{src:is,className:y["delete-img"],onClick:()=>M()}),s.jsx("div",{className:y["pic-item"],children:s.jsx("div",{className:y.pic,style:{backgroundImage:"url("+U.thumb+")"}})})]}),s.jsx("div",{className:y.info,children:s.jsxs("span",{className:y.tit,children:[n,".",e.type_text,"（",e.score,"分）"]})}),s.jsx("div",{className:y["question-content"],children:s.jsx(Q,{text:e.content_transform.text,images:e.content_transform.images,iframes:e.content_transform.iframes})}),s.jsxs("div",{className:y["choice-box"],children:[s.jsx("div",{className:y["input-title"],children:"我的作答"}),s.jsx(es.TextArea,{className:y.input,disabled:C,placeholder:"请输入你的答案",value:T,onBlur:f=>{A()},onChange:f=>{F(f.target.value)}}),p&&(o.length>0||!C)&&s.jsxs("div",{className:y["images-box"],children:[o.map((f,P)=>s.jsx("div",{className:y["image-item"],children:s.jsx("div",{className:y["image-view"],onClick:()=>cs(f,P),children:s.jsx(as,{value:f,width:80,height:80,border:4})})},P)),!C&&!I&&s.jsx(X,{className:y["upload-image-button"],...rs,showUploadList:!1,children:s.jsx("img",{src:ms})})]})]}),C&&(I&&e.remark&&e.remark!==""||!I||l&&e.remark&&e.remark!=="")&&s.jsxs("div",{className:"analysis-box",children:[I&&e.remark&&e.remark!==""?s.jsx("div",{className:"answer-box",children:s.jsxs("div",{className:"button",onClick:()=>d(!l),children:[l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})}):I?s.jsx(s.Fragment,{}):s.jsxs("div",{className:"answer-box",children:[s.jsx("div",{className:"content",children:s.jsxs("div",{className:"score",children:[s.jsx("i",{}),"得分：",x]})}),e.remark&&e.remark!==""&&s.jsxs("div",{className:"button",onClick:()=>d(!l),children:[l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!l&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})]}),l&&e.remark&&e.remark!==""&&s.jsxs("div",{className:"remark-box",children:[s.jsx("div",{className:"left-remark",children:s.jsxs("div",{className:"tit",children:[s.jsx("i",{}),"解析："]})}),s.jsx("div",{className:"remark",children:s.jsx(Q,{text:e.remark_transform.text,images:e.remark_transform.images,iframes:e.remark_transform.iframes})})]})]})]})},os=({question:e,reply:N,isCorrect:w,isOver:m,score:C,showImage:x,wrongBook:p,num:I,update:n})=>{t.useState(!1);const[k,T]=t.useState(!1),[F,U]=t.useState(""),[z,B]=t.useState([]),[i,g]=t.useState([]),[S,o]=t.useState(null),[b,l]=t.useState(!1);t.useEffect(()=>{N&&g(N),l(!!p)},[N,p]),t.useEffect(()=>{if(e){let a=JSON.parse(e.content);o(a.header);let r=[];for(let A=0;A<a.questions.length;A++){let j=a.questions[A];j.id=e.id+"-cap-"+A,j.level_text="",r.push(j)}B(r)}},[e]);const d=(a,r,A)=>{n(a,r,A)},c=a=>typeof i[a]>"u";return s.jsxs("div",{className:Z.spbackground,children:[k&&s.jsxs("div",{className:Z["preview-image"],children:[s.jsx("img",{src:L,className:Z["back-detail"],onClick:()=>T(!1)}),s.jsx("div",{className:Z["pic-item"],children:s.jsx("div",{className:Z.pic,style:{backgroundImage:"url("+F+")"}})})]}),s.jsx("div",{className:Z.info,children:s.jsxs("span",{className:Z.tit,children:[I,".",e.type_text,"（",e.score,"分）"]})}),s.jsx("div",{className:Z["question-content"],children:s.jsx(Q,{text:e.content_transform.header_transform.text,images:e.content_transform.header_transform.images,iframes:e.content_transform.header_transform.iframes})}),s.jsx("div",{className:Z["choice-box"],children:z.map((a,r)=>s.jsxs("div",{className:Z["cap-item"],children:[c(r)&&s.jsxs(s.Fragment,{children:[a.type===1&&s.jsx(Y,{num:r+1,question:a,reply:null,score:a.score,isCorrect:0,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===2&&s.jsx(O,{num:r+1,question:a,reply:"",score:a.score,isCorrect:0,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===3&&s.jsx(q,{num:r+1,question:a,reply:"",score:a.score,isCorrect:0,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===4&&s.jsx(ss,{num:r+1,question:a,reply:null,thumbs:[],score:a.score,isCorrect:0,isOver:m,showImage:x,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===5&&s.jsx($,{num:r+1,question:a,reply:null,score:a.score,isCorrect:0,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id)]}),!c(r)&&s.jsxs(s.Fragment,{children:[a.type===1&&s.jsx(Y,{num:r+1,question:a,reply:i[r].answer,score:i[r].score,isCorrect:i[r].is_correct,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===2&&s.jsx(O,{num:r+1,question:a,reply:i[r].answer_contents_row,score:i[r].score,isCorrect:i[r].is_correct,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===3&&s.jsx(q,{num:r+1,question:a,reply:i[r].answer_contents_rows,score:i[r].score,isCorrect:i[r].is_correct,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===4&&s.jsx(ss,{num:r+1,question:a,reply:i[r].answer,thumbs:i[r].thumbs,score:i[r].score,isCorrect:i[r].is_correct,isOver:m,showImage:x,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id),a.type===5&&s.jsx($,{num:r+1,question:a,reply:i[r].answer_contents_rows,score:i[r].score,isCorrect:i[r].is_correct,isOver:m,wrongBook:p,update:(A,j,M)=>{d(A,j,M)}},a.question_id)]})]},r+"cap"))}),m&&s.jsxs("div",{className:"analysis-box",children:[s.jsxs("div",{className:"answer-box",children:[s.jsxs("div",{className:"content",children:[e.answer&&e.answer!==""&&s.jsxs("div",{className:"answer",children:[s.jsx("i",{}),"答案：",e.answer]}),!p&&s.jsxs("div",{className:"score",children:[s.jsx("i",{}),"得分：",C]})]}),e.remark&&e.remark!==""&&s.jsxs("div",{className:"button",onClick:()=>l(!b),children:[b&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"折叠解析"}),s.jsx("img",{src:R,className:"icon"})]}),!b&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"展开解析"}),s.jsx("img",{src:V,className:"icon"})]})]})]}),b&&e.remark&&e.remark!==""&&s.jsxs("div",{className:"remark-box",children:[s.jsx("div",{className:"left-remark",children:s.jsxs("div",{className:"tit",children:[s.jsx("i",{}),"解析："]})}),s.jsx("div",{className:"remark",children:s.jsx(Q,{text:e.remark_transform.text,images:e.remark_transform.images,iframes:e.remark_transform.iframes})})]})]})]})};export{Y as C,q as I,$ as J,ss as Q,O as S,os as a};
