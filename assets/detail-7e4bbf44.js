import{u as ie,p as i,v as O,s as e,cu as P,aE as Ne,F as xe,G as be,H as je,S as J,a0 as ye,I as D,D as X,z as _e,E as ne,t as b}from"./index-e91a7de6.js";import{d as Ae,c as Xe,v as ke,a as Te,s as Ce,b as ae,r as Se}from"./topic-c9afb0e2.js";import{E as He}from"./index-155c943d.js";import{H as Ve}from"./index-f4d21fdb.js";import{c as we,n as Le}from"./icon-collect-n-7dad1c8c.js";import{d as ce}from"./default-avatar-e291781e.js";const Pe="data:image/png;base64,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",Fe=({cid:m,title:v,thumb:g})=>{ie();const[k,f]=i.useState(""),[r,c]=i.useState(""),j=O(N=>N.systemConfig.value.config);i.useEffect(()=>{z()},[m]);const z=()=>{let N=new URL(j.pc_url),T=encodeURIComponent(N.protocol+"//"+N.host+N.pathname+"topic/detail/"),F="https://connect.qq.com/widget/shareqq/index.html?url="+T+m+"&title="+v+"&summary="+v+"&pics="+g+"&site="+j.webname;f(F);let C="https://service.weibo.com/share/share.php?url="+T+m+"&title="+v+"&pic="+g;c(C)};return e.jsxs("div",{className:P.share,children:[e.jsx("span",{children:"分享到"}),k&&e.jsx("a",{className:P.qq,target:"_blank",href:k,children:e.jsx("img",{className:P["qq-icon"],style:{width:40,height:40},src:Ne})}),r&&e.jsx("a",{className:P.sina,target:"_blank",href:r,children:e.jsx("img",{className:P["sina-icon"],style:{width:40,height:40},src:Pe})})]})},Ye="_box_1gfgp_1",Ee="_share_1gfgp_8",Je="_qq_1gfgp_40",Be="_wechat_1gfgp_43",Ie="_topic_1gfgp_134",qe="_line_1gfgp_176",Re="_buttons_1gfgp_186",De="_avatar_1gfgp_274",Oe="_nickname_1gfgp_369",Qe="_diff_1gfgp_377",Ue="_text_1gfgp_384",Ge="_page_1gfgp_1",t={box:Ye,"share-box":"_share-box_1gfgp_8",share:Ee,qq:Je,wechat:Be,"active-vote-button":"_active-vote-button_1gfgp_46","vote-button":"_vote-button_1gfgp_68","active-like-button":"_active-like-button_1gfgp_90","like-button":"_like-button_1gfgp_112","topic-box":"_topic-box_1gfgp_134",topic:Ie,"topic-title":"_topic-title_1gfgp_151","topic-stat":"_topic-stat_1gfgp_161","div-times":"_div-times_1gfgp_168",line:qe,"topic-content":"_topic-content_1gfgp_182",buttons:Re,"login-button":"_login-button_1gfgp_198","vip-buy-button":"_vip-buy-button_1gfgp_205","buy-button":"_buy-button_1gfgp_222","comments-box":"_comments-box_1gfgp_240","comment-divider":"_comment-divider_1gfgp_251","reply-box":"_reply-box_1gfgp_266",avatar:De,"input-box":"_input-box_1gfgp_286","disabled-button":"_disabled-button_1gfgp_295","confirm-button":"_confirm-button_1gfgp_311","comments-list-box":"_comments-list-box_1gfgp_327","comment-item":"_comment-item_1gfgp_333","comment-content":"_comment-content_1gfgp_356","top-info":"_top-info_1gfgp_361",nickname:Oe,diff:Qe,text:Ue,"reply-answer-box":"_reply-answer-box_1gfgp_395","reply-trans-answer":"_reply-trans-answer_1gfgp_400","reply-answer":"_reply-answer_1gfgp_395","one-class-replybox":"_one-class-replybox_1gfgp_416","reply-list-box":"_reply-list-box_1gfgp_465","reply-list-item":"_reply-list-item_1gfgp_475","reply-avatar":"_reply-avatar_1gfgp_484","reply-content":"_reply-content_1gfgp_496","reply-nickname":"_reply-nickname_1gfgp_510","red-reply-nickname":"_red-reply-nickname_1gfgp_519","reply-diff":"_reply-diff_1gfgp_528","reply-text":"_reply-text_1gfgp_535","answer-item":"_answer-item_1gfgp_544","Two-class-replybox":"_Two-class-replybox_1gfgp_553",page:Ge},We="data:image/png;base64,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",Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAAXNSR0IArs4c6QAAAiJQTFRFAAAA////////qqqq////zMzM////29vb39/fxsbGzMzM0dHR1dXV2NjY29vbz8/Pw8PDxsbG1dXV19fXzMzMzs7OxcXFyMjI09PT0NDQysrK09PTzMzMzs7Oz8/Py8vL0tLSzc3Nz8/PycnJ0NDQysrK0NDQ0dHRzMzMzc3Ny8vL0NDQzMzMzc3Ny8vLzc3NycnJysrKz8/Py8vLzc3Nzs7Oz8/PzMzMzc3Nzs7Oy8vLzc3Nzc3Ny8vLy8vLzMzMy8vLzMzMzc3Nzc3Ny8vLzc3Nzc3Nzs7Oy8vLzMzMzc3NzMzMy8vLzMzMzMzMzMzMzMzMzMzMzc3Nzc3Ny8vLzc3NzMzMzMzMzMzMy8vLzMzMzMzMy8vLzMzMzs7Ozs7OzMzMzc3Ny8vLzc3Nzc3NzMzMzc3Nzc3Nzc3NzMzMzs7OzMzMzMzMzc3Nzc3NzMzMzc3NzMzMy8vLzMzMzc3Ny8vLzc3Ny8vLzMzMzc3NzMzMzMzMzMzMzMzMzMzMy8vLzc3NzMzMzc3Ny8vLzc3Nzc3NzMzMzMzMy8vLzc3NzMzMzMzMzc3NzMzMzMzMzMzMzMzMzMzMzMzMzc3NzMzMzMzMzc3NzMzMzMzMzMzMzc3NzMzMzMzMzMzMzMzMzc3NzMzMzMzMzMzMzMzMzMzMzc3NzMzMzc3NzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMy8vLzMzMzMzMzMzMzc3NzMzMpScQrAAAALV0Uk5TAAECAwMFBQcICQoLDA0OEBESEhMUFRYXFxsdHR4fICIiJCUmJisrLC0uMTEyMzY4OTo6Oz0/QEFCQ0VITE5PUFRVVldZW1xdXmRlaWxtbm9zdHV6e3t8fX5/gYKEhoaHiImKiouNjo+QkZGSlp2en5+ho6WnqKytsLGztbi5ury8v8DBwcLDxMbGyMnK0NHT19nb29ze4OLj5eXm5+jp6err7O3u7u/v8PHz9PX3+vv8/P3+/nGHD/gAAAI/SURBVBgZ7cHnW09hAMfhTz8rm+zslZkVMiIzZGXvvYVE9l4Z2cnMKnuU8P3/vHA9qXOeX85zTi+4ru6bBg3+C2MLSire31jfj/oR26PfqvKSqA+rVO1RCtF1r9AfpclEtlE1nSCq1uWq6ecgIspSbduJKF+1PSCa2Et59CaSUfKaTSSb5JVLJMXyuk4Uw+TzkSh2yq8T4bUok18Hwlskvx9NCK3ja/k9IbTm52VxhbDaXpJNASENvCurHThr1bNXv/Q9X2W3oUdtXRpTp4wjb+Tma+GClsTTp1BhPByP3cgyhfN9PjY9XyqsqilYnFJ45R3xGaMo1uGzV1GU4HNHkXTD650iScOrUsbbNctfyNU4vD7JmAQj5GoAXq9kNAU+yM2bGF6PZDQDnsrNIXzuyWgDlMjNLHxuy+gM3JWTqiR8imQkA7fk5Bp+F2X0BYrkZBV+p2WkAJflJBW/4zJSgbNy8TwBvwIZo4GTcpGPRZ6MdOCoXMzEYp+MycBhOfjWHoudMjKB/XJwFZsNMmYC++RgJTarZcwFdsnBcGyWysgGNiu40gRsFspYCKxVcAexypaxBFim4GZglSVjBZCjwCrbYTVNxjpggQIrxC5DxhZgngJbht1EGbuBOQpsKHZpMo4BOQrqWQJ2/WVUTGXIYwV1gDgSv6naFwU3nXjOKYzKtsSTpTAuEFfCTYWQSXwpH+TsDHWZ8FmO7nelToOL5aSoG3+RuKRUgT1e3IS/i6Ut3pobwLacsY1o0OBf9Qs7now7x/uE2QAAAABJRU5ErkJggg==",rt=()=>{const m=ie(),v=xe(),[g,k]=i.useState(!1),[f,r]=i.useState(!1),[c,j]=i.useState({}),[z,N]=i.useState(!1),[T,F]=i.useState(!1),[C,Q]=i.useState(!1),[y,U]=i.useState(""),[_,Y]=i.useState([]),[le,re]=i.useState([]),[o,S]=i.useState([]),[H,B]=i.useState([]),[d,V]=i.useState(""),[Ke,oe]=i.useState(0),[I,G]=i.useState([]),[q,$e]=i.useState(1),[R,et]=i.useState(1e4),[tt,de]=i.useState(0),[me,W]=i.useState(0),[A,ge]=i.useState(Number(v.courseId)),M=O(s=>s.loginUser.value.user),h=O(s=>s.loginUser.value.isLogin);i.useEffect(()=>{ze(),he()},[A]),i.useEffect(()=>{ge(Number(v.courseId))},[v.courseId]),i.useEffect(()=>{be(document.getElementById("math")),je(document.getElementById("math"))},[document.getElementById("math")]);const ze=()=>{g||(k(!0),Ae(A).then(s=>{document.title=s.data.topic.title,j(s.data.topic),N(s.data.is_buy),Q(s.data.is_collect),F(s.data.is_vote),k(!1)}))},he=()=>{f||(r(!0),Xe(A,{page:q,page_size:R,comment_id:me}).then(s=>{let a=[...le];for(let n in s.data.users)a[n]=s.data.users[n];re(a),Y(s.data.data.data),de(s.data.data.total),r(!1)}).catch(s=>{r(!1)}))},Z=()=>{if(!h){w();return}ke(A,{}).then(s=>{let a=s.data.ok===1;if(F(a),a){let n={...c};n.vote_count++,j(n),b.success("已点赞")}else{let n={...c};n.vote_count--,j(n),b.success("取消点赞")}})},K=()=>{if(!h){w();return}Te(A,{}).then(s=>{let a=!C;Q(a),a?b.success("已收藏"):b.success("取消收藏")})},w=()=>{let s=encodeURIComponent(window.location.pathname+window.location.search);m("/login?redirect="+s)},pe=()=>{m("/vip")},ue=()=>{if(!h){w();return}m("/order?goods_id="+c.id+"&goods_type=topic&goods_charge="+c.charge+"&goods_label=文章&goods_name="+c.title+"&goods_thumb="+c.thumb)},fe=()=>{f||y!==""&&(r(!0),Ce(A,{content:y}).then(s=>{b.success("评论成功");let a={id:s.data.comment_id,parent_id:0,content:y,children_count:0,reply_comment_id:0,reply_comment:null,reply_user:[],reply_user_id:0,created_at:"刚刚",user:{avatar:M.avatar,nick_name:M.nick_name}},n=[..._];n.unshift(a),Y(n);let l=[...o];l.unshift(!1),S(l);let p=[...H];p.unshift(!1),B(p),U(""),r(!1)}).catch(s=>{r(!1)}))},$=s=>{if(!h){w();return}let a=[];a[s]=!0,G(a),V("")},Me=(s,a)=>{if(a===0)return;let n=[...H];n[s]=!n[s],B(n),W(a),ae(c.id,{page:q,page_size:R,comment_id:a}).then(l=>{let p=[...o];p[s]=l.data.data.data,S(p)})},ee=(s,a,n,l)=>{if(!f){if(!n){b.error("回复的用户不存在");return}d&&(oe(a),r(!0),Se(c.id,{parent_id:s,content:d,reply_comment_id:a}).then(p=>{G([]),b.success("回复成功"),r(!1);let E;if(a){E={id:p.data.comment_id,parent_id:s,content:d,children_count:0,reply_comment:{user:{nick_name:n}},created_at:"刚刚",user:{avatar:M.avatar,nick_name:M.nick_name}};let u;o[l]?(u=o[l],u.unshift(E)):u=[];let L=[...o];L[l]=u,S(L);let x=[..._];x[l].children_count=x[l].children_count+1,Y(x),V("")}else{E={id:p.data.comment_id,parent_id:s,content:d,children_count:0,reply_comment:null,created_at:"刚刚",user:{avatar:M.avatar,nick_name:M.nick_name}};let u;o[l]?(u=o[l],u.unshift(E)):u=[];let L=[...o];L[l]=u,S(L);let x=[..._];x[l].children_count=x[l].children_count+1,Y(x),V("");let te=[...H];te[l]=!0,B(te),W(s),ae(c.id,{page:q,page_size:R,comment_id:s}).then(ve=>{let se=[...o];se[l]=ve.data.data.data,S(se)})}}).catch(p=>{r(!1)}))}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"bread-nav",children:[g&&e.jsx(J.Button,{active:!0,style:{width:1200,height:14,marginLeft:0}}),!g&&e.jsxs(e.Fragment,{children:[e.jsx("a",{onClick:()=>{m("/")},children:"首页"})," ","/",e.jsx("a",{onClick:()=>{m("/topic")},children:"图文"})," ","/",e.jsx("span",{children:c.title})]})]}),e.jsxs("div",{className:t.box,children:[e.jsxs("div",{className:t["topic-box"],children:[e.jsxs("div",{className:t.topic,children:[e.jsx(Ve,{id:c.id,title:c.title,type:"topic"}),g&&e.jsxs("div",{style:{width:806,display:"flex",flexDirection:"column"},children:[e.jsx(J.Button,{active:!0,style:{width:806,height:48}}),e.jsx(J.Button,{active:!0,style:{width:806,height:14,marginTop:10}})]}),!g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:t["topic-title"],children:c.title}),e.jsxs("div",{className:t["topic-stat"],children:[e.jsx("span",{className:t["div-times"],children:ye(c.created_at)}),e.jsxs("span",{className:t["div-times"],children:[c.view_times,"次阅读"]}),e.jsxs("span",{className:t["div-times"],children:[c.vote_count,"人赞过"]})]})]}),e.jsx("div",{className:t.line}),e.jsxs("div",{className:t["topic-content"],children:[g&&e.jsx(J,{active:!0,paragraph:{rows:3}}),z&&e.jsxs("div",{className:"u-content md-content",children:[c.free_content_render&&e.jsx("div",{id:"math",dangerouslySetInnerHTML:{__html:c.free_content_render}}),e.jsx("div",{id:"math",dangerouslySetInnerHTML:{__html:c.render_content}})]}),!z&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"free-content u-content md-content",children:e.jsx("div",{id:"math",dangerouslySetInnerHTML:{__html:c.free_content_render}})}),e.jsxs("div",{className:t.buttons,children:[!h&&e.jsx("div",{className:t["login-button"],onClick:()=>w(),children:"请登录后查看"}),h&&e.jsxs(e.Fragment,{children:[c.is_vip_free===1&&e.jsx("div",{className:t["vip-buy-button"],onClick:()=>pe(),children:"会员免费看"}),c.charge>0&&e.jsxs("div",{className:t["buy-button"],onClick:()=>ue(),children:["解锁全文￥",c.charge]})]})]})]})]})]}),e.jsxs("div",{className:t["comments-box"],children:[e.jsx("div",{className:t["comment-divider"],children:"全部评论"}),e.jsx("div",{className:t.line}),h&&z&&e.jsxs("div",{className:t["reply-box"],children:[M&&e.jsx("div",{className:t.avatar,children:e.jsx("img",{src:M.avatar})}),e.jsx(D,{className:t["input-box"],onChange:s=>{U(s.target.value)},value:y,placeholder:"此处填写你的评论"}),y===""&&e.jsx(X,{className:t["disabled-button"],children:"评论"}),y!==""&&e.jsx(X,{type:"primary",loading:f,className:t["confirm-button"],onClick:()=>fe(),children:"评论"})]}),e.jsxs("div",{className:t["comments-list-box"],children:[_.length===0&&e.jsx(_e,{span:24,children:e.jsx(He,{})}),_.length>0&&_.map((s,a)=>e.jsxs("div",{className:t["comment-item"],children:[e.jsxs("div",{className:t.avatar,children:[s.user.length!==0&&e.jsx("img",{src:s.user.avatar}),s.user.length===0&&e.jsx("img",{src:ce})]}),e.jsxs("div",{className:t["comment-content"],children:[e.jsxs("div",{className:t["top-info"],children:[s.user.length===0&&e.jsx("div",{className:t.nickname,children:"未知用户"}),s.user.length!==0&&e.jsx("div",{className:t.nickname,children:s.user.nick_name}),e.jsx("div",{className:t.diff,children:ne(s.created_at)})]}),e.jsx("div",{className:t.text,children:s.content}),e.jsxs("div",{className:t["reply-answer-box"],children:[z&&s.user.length!==0&&e.jsx("div",{className:I[a]===!0?t["reply-trans-answer"]:t["reply-answer"],onClick:()=>$(s.id),children:"回复"}),s.children_count!==0&&e.jsxs("div",{className:H[a]===!0?t["reply-trans-answer"]:t["reply-answer"],onClick:()=>Me(a,s.id),children:[s.children_count,"回复"]})]}),h&&z&&I[s.id]===!0&&e.jsxs("div",{className:t["one-class-replybox"],children:[e.jsx(D,{className:t["input-box"],value:d,onChange:n=>{V(n.target.value)},placeholder:"回复"+s.user.nick_name}),d===""&&e.jsx(X,{type:"primary",className:t["disabled-button"],children:"发表回复"}),d!==""&&e.jsx(X,{type:"primary",loading:f,className:t["confirm-button"],onClick:()=>ee(s.id,null,s.user.nick_name,a),children:"发表回复"})]}),H[a]===!0&&e.jsx("div",{className:t["reply-list-box"],children:o.length>0&&o[a]&&o[a].map(n=>e.jsxs("div",{className:t["reply-list-item"],children:[e.jsxs("div",{className:t["reply-avatar"],children:[n.user.length!==0&&e.jsx("img",{src:n.user.avatar}),n.user.length===0&&e.jsx("img",{src:ce})]}),e.jsxs("div",{className:t["reply-content"],children:[e.jsxs("div",{className:t["top-info"],children:[n.user.length===0&&e.jsx("div",{className:t["red-reply-nickname"],children:"未知用户"}),n.user.length!==0&&e.jsx("div",{className:t["reply-nickname"],children:e.jsxs(e.Fragment,{children:[n.user.nick_name,n.reply_comment!=null&&e.jsxs(e.Fragment,{children:["回复：",n.reply_comment.user.nick_name]})]})}),e.jsx("div",{className:t["reply-diff"],children:ne(n.created_at)})]}),e.jsx("div",{className:t["reply-text"],children:n.content}),z&&n.user.length!==0&&e.jsx("div",{className:t["answer-item"],onClick:()=>$(n.id),children:"回复"}),h&&z&&I[n.id]===!0&&e.jsxs("div",{className:t["Two-class-replybox"],children:[e.jsx(D,{className:t["input-box"],value:d,onChange:l=>{V(l.target.value)},placeholder:"回复"+n.user.nick_name}),d===""&&e.jsx(X,{type:"primary",className:t["disabled-button"],children:"发表回复"}),d!==""&&e.jsx(X,{type:"primary",loading:f,className:t["confirm-button"],onClick:()=>ee(s.id,n.id,n.user.nick_name,a),children:"发表回复"})]})]})]},n.id))})]})]},s.id))]})]})]}),c&&e.jsxs("div",{className:t["share-box"],children:[e.jsx(Fe,{cid:c.id,title:c.title,thumb:c.thumb}),T&&e.jsxs("div",{className:t["active-vote-button"],onClick:()=>Z(),children:[e.jsx("img",{className:t["vote-icon"],style:{width:40,height:40},src:We}),e.jsx("span",{children:"已点赞"})]}),!T&&e.jsxs("div",{className:t["vote-button"],onClick:()=>Z(),children:[e.jsx("img",{className:t["vote-icon"],style:{width:40,height:40},src:Ze}),e.jsx("span",{children:"点赞"})]}),C&&e.jsxs("div",{className:t["active-like-button"],onClick:()=>K(),children:[e.jsx("img",{className:t["like-icon"],style:{width:40,height:40},src:we}),e.jsx("span",{children:"已收藏"})]}),!C&&e.jsxs("div",{className:t["like-button"],onClick:()=>K(),children:[e.jsx("img",{className:t["like-icon"],style:{width:40,height:40},src:Le}),e.jsx("span",{children:"收藏"})]})]})]})]})})};export{rt as default};
