import{u as b,v as L,s as e,a4 as i,p as a,y as I,S as A,x as z,z as Q}from"./index-c4424654.js";import{l as D}from"./practice-a2c369be.js";import{E as Y}from"./index-2b1e8b68.js";import{F as J}from"./index-daf86d25.js";import{p as O}from"./practice-6e63965d.js";import{P}from"./Pagination-12974eb2.js";import"./useForceUpdate-dbe4ad3d.js";const G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IArs4c6QAAAJxQTFRFAAAA//+A/79A/7E7/7Y3/6429a0z9acx9qov96ou+Kor+aQt9aUt9qcq9qcs9aQs9aUq9qYr9qUr9acq9aYr9qUq9KUr9KYq9aUq9aUr9KYq9aUr9aUq9aUp9aUq9aQq9aQq9aQq9aUq9KQq9aQp9KUp9aUp9aQq9KUq9KQq9KUp9KUp9KQp9KUq9KUq9KQq9aUq9aUq9aUq9KQpI02tSwAAADN0Uk5TAAIEDQ4TGRobISQtMzc6TE9TWGJqbHd4eoOMnJ+hqquxt7jCzdLf5+jp6uvs7e7v8/n7JpnJuwAAANFJREFUOMu90dkOgjAUBNBREBDcFxB3cFcUcf7/33wwamOvTYzGebrNnLTJLfDb+P3hsO+/ratzkiTnVbmvZ+QhTQ9kVpd6Z8t9GwDae24dAYyYubfJyzjSe6tg5z53WFgaaPJcus+lM5sa6HHxPCzY00DI6fMwY/gpqHQTrsJHVky6FbX3NtSy8RQQU0isgIkEJhLYDQY7IwiAwASOAHA03VADasYn1sDaCE5A/h24OO7FCJjn4qLG0ibHCogkECnAXur90lb/u9xovaRRxr9yBUafR6fjdC93AAAAAElFTkSuQmCC",H=({cid:c,title:s,charge:f,userCount:r,category:U,records:u,isFree:g,isVipFree:j,questionCount:h})=>{const n=b(),m=L(l=>l.loginUser.value.isLogin),o=()=>{if(!m){v();return}n("/exam/practice/detail/"+c)},v=()=>{let l=encodeURIComponent(window.location.pathname+window.location.search);n("/login?redirect="+l)};return e.jsxs("div",{className:i["paper-item-comp"],children:[r!==0&&e.jsxs(e.Fragment,{children:[r===h&&e.jsx("div",{className:i.status,children:"已练习"}),r!==h&&e.jsx("div",{className:i.status,children:"练习中"})]}),e.jsxs("div",{className:i.title,children:[e.jsx("img",{className:i.icon,src:O}),e.jsx("div",{className:i.name,children:s})]}),e.jsxs("div",{className:i.button,onClick:()=>o(),children:[!g&&e.jsx("img",{className:i.icon,src:G}),e.jsx("span",{children:"立即练习"})]})]})},V="_content_1alpk_1",q={content:V,"filter-two-class":"_filter-two-class_1alpk_4","list-box":"_list-box_1alpk_14"},ae=()=>{document.title="练习模式";const c=b(),[s,f]=a.useState(!1),[r,U]=a.useState(!0),[u,g]=a.useState([]),[j,h]=a.useState(!1),[n,m]=a.useState(1),[o,v]=a.useState(10),[l,_]=a.useState(0),[E,R]=a.useState([]),[w,T]=a.useState([]),y=new URLSearchParams(I().search),[S,K]=a.useState(Number(y.get("cid"))||0),[C,F]=a.useState(Number(y.get("child"))||0);a.useEffect(()=>{B()},[n,o,j]);const k=()=>{m(1),g([]),h(!j)},B=()=>{s||(f(!0),D({page:n,page_size:o,cid1:S,cid2:C}).then(t=>{let d=[];t.data.categories.forEach(p=>{let x={id:p.id,name:p.name,children:[]};typeof t.data.category_children[p.id]<"u"&&x.children.push(...t.data.category_children[p.id]),d.push(x)}),g(t.data.data.data),_(t.data.data.total),R(d);let N=t.data.user_papers;if(N){const p=[...w];let x=Object.assign(p,N);T(x)}f(!1),U(!1)}))};return e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"bread-nav",children:[e.jsx("a",{onClick:()=>{c("/exam")},children:"考试练习"})," ","/",e.jsx("span",{children:"练习模式"})]}),e.jsxs("div",{className:q.content,children:[e.jsxs("div",{className:q["filter-two-class"],children:[s&&r&&e.jsx(A.Button,{active:!0,style:{width:1140,height:24,marginTop:15,marginBottom:15}}),!r&&e.jsx(J,{loading:s,categories:E,defaultKey:S,defaultChild:C,onSelected:(t,d)=>{K(t),F(d),c(t===0?"/exam/practice":d===0?"/exam/practice?cid="+t:"/exam/practice?cid="+t+"&child="+d),k()}})]}),s&&e.jsx(z,{style:{width:1200},children:e.jsxs("div",{style:{width:1200,display:"flex",flexDirection:"column"},children:[e.jsx(A.Button,{active:!0,style:{width:1200,height:116,borderRadius:8,marginTop:30,marginBottom:10}}),e.jsx(A.Button,{active:!0,style:{width:1200,height:116,borderRadius:8,marginTop:30,marginBottom:10}}),e.jsx(A.Button,{active:!0,style:{width:1200,height:116,borderRadius:8,marginTop:30,marginBottom:10}})]})}),!s&&u.length===0&&e.jsx(Q,{span:24,children:e.jsx(Y,{})}),!s&&u.length>0&&e.jsx("div",{className:q["list-box"],children:u.map(t=>e.jsx(H,{cid:t.id,title:t.name,charge:t.charge,userCount:t.user_count,category:t.category,records:w,isFree:t.cur_user_can_join,isVipFree:t.is_vip_free,questionCount:t.question_count},t.id))}),!s&&u.length>0&&o<l&&e.jsx(Q,{span:24,style:{display:"flex",justifyContent:"center",marginTop:50},children:e.jsx(P,{onChange:t=>{m(t),window.scrollTo(0,0)},pageSize:o,defaultCurrent:n,total:l})})]})]})};export{ae as default};
