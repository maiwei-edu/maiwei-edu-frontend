import{u as B,p as a,v as L,aN as M,aO as V,aP as F,s as o,x as K,ao as U,z as b,E as p}from"./index-c4424654.js";import{E as q}from"./index-2b1e8b68.js";import{T as n}from"./index-17003175.js";import{N as A}from"./index-9ad8e00c.js";import{p as f}from"./default-paper-c83eabd4.js";import{d as G}from"./default-vip-88ed1834.js";import{P as H}from"./Pagination-12974eb2.js";import"./useForceUpdate-dbe4ad3d.js";const J="_box_7s77i_1",Q="_spback_7s77i_45",e={box:J,"project-box":"_project-box_7s77i_8","project-content":"_project-content_7s77i_17","project-item":"_project-item_7s77i_22","item-thumb":"_item-thumb_7s77i_34",spback:Q,"item-info":"_item-info_7s77i_58","item-top":"_item-top_7s77i_65","item-type":"_item-type_7s77i_73","item-name":"_item-name_7s77i_85","order-num":"_order-num_7s77i_92","item-time":"_item-time_7s77i_101","item-bottom":"_item-bottom_7s77i_108","item-price":"_item-price_7s77i_116","item-act-status":"_item-act-status_7s77i_123","item-status":"_item-status_7s77i_131"},W="/assets/default-article-b9f089ab.png",X="/assets/default-lesson-8c3c478b.png",Y="/assets/default-video-5c146e31.png",Z="/assets/default-steps-d6b8376c.png",$="/assets/default-live-eea87850.png",ss="/assets/default-ebook-810deca0.png",rs=()=>{document.title="所有订单";const d=B(),[c,g]=a.useState(!1),[l,h]=a.useState([]),[x,N]=a.useState(!1),[_,j]=a.useState(1),[r,os]=a.useState(10),[v,u]=a.useState(0),[y,k]=a.useState([]),[i,C]=a.useState(1),m=L(s=>s.systemConfig.value.configFunc);a.useEffect(()=>{i==1?O():i===2?S():i===3&&E()},[_,r,x,i]),a.useEffect(()=>{let s=[{name:"所有订单",id:1}];m.tuangou&&s.push({name:"团购订单",id:2}),m.miaosha&&s.push({name:"秒杀订单",id:3}),k(s)},[m]);const O=()=>{c||(g(!0),M({page:_,page_size:r}).then(s=>{h(s.data.data),u(s.data.total),g(!1)}))},S=()=>{c||(g(!0),V({page:_,size:r}).then(s=>{h(s.data.data),u(s.data.total),g(!1)}))},E=()=>{c||(g(!0),F({page:_,size:r}).then(s=>{h(s.data.data),u(s.data.total),g(!1)}))},T=()=>{j(1),h([]),N(!x)},P=s=>{c||(C(s),T())},I=s=>{s.goods[0].goods_type==="ROLE"?d("/vip"):s.goods[0].goods_type==="BOOK"?d("/book/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="COURSE"?d("/courses/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="直播课程"?d("/live/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="文章"?d("/topic/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="VIDEO"?d("/courses/video/"+s.goods[0].goods_id):s.goods[0].goods_type==="学习路径"?d("/learnPath/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="试卷"?d("/exam/papers/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="练习"?d("/exam/practice/detail/"+s.goods[0].goods_id):s.goods[0].goods_type==="模拟试卷"&&d("/exam/mockpaper/detail/"+s.goods[0].goods_id)},w=s=>{s.goods.goods_type==="book"?d("/book/detail/"+s.goods.other_id):s.goods.goods_type==="course"?d("/courses/detail/"+s.goods.other_id):s.goods.goods_type==="live"?d("/live/detail/"+s.goods.other_id):s.goods.goods_type==="learnPath"&&d("/learnPath/detail/"+s.goods.other_id)},D=(s,t)=>{s.stopPropagation(),d("/order?course_id="+t.goods.goods_id+"&course_type="+t.goods.goods_type+"&goods_type=ms&goods_charge="+t.charge+"&goods_label=团购&goods_name="+t.goods.goods_title+"&goods_id="+t.id+"&goods_thumb="+t.goods.goods_thumb)},R=s=>{s.goods.goods_type==="book"?d("/book/detail/"+s.goods.goods_id):s.goods.goods_type==="course"?d("/courses/detail/"+s.goods.goods_id):s.goods.goods_type==="live"?d("/live/detail/"+s.goods.goods_id):s.goods.goods_type==="learnPath"&&d("/learnPath/detail/"+s.goods.goods_id)},z=(s,t)=>{s.stopPropagation(),d("/order?course_id="+t.goods.other_id+"&course_type="+t.goods.goods_type+"&goods_type=tg&goods_charge="+t.charge+"&goods_label=秒杀&goods_name="+t.goods.goods_title+"&goods_id="+t.id+"&goods_thumb="+t.goods.goods_thumb)};return o.jsx("div",{className:"container",children:o.jsxs("div",{className:e.box,children:[o.jsx(A,{cid:6,refresh:!0}),o.jsxs("div",{className:e["project-box"],children:[o.jsx("div",{className:"member-tabs",children:y.map(s=>o.jsxs("div",{className:i===s.id?"active item-tab":"item-tab",onClick:()=>P(s.id),children:[s.name,i===s.id&&o.jsx("div",{className:"actline"})]},s.id))}),c&&o.jsx(K,{children:o.jsx("div",{className:"float-left d-j-flex mt-50",children:o.jsx(U,{size:"large"})})}),!c&&l.length===0&&o.jsx(b,{span:24,children:o.jsx(q,{})}),!c&&l.length>0&&o.jsxs(o.Fragment,{children:[i===1&&o.jsx("div",{className:e["project-content"],children:l.map(s=>o.jsxs("div",{className:e["project-item"],onClick:()=>I(s),children:[s.goods[0]&&s.goods[0].goods_thumb?o.jsx("div",{className:e["item-thumb"],children:s.goods[0].goods_type==="模拟试卷"||s.goods[0].goods_type==="试卷"||s.goods[0].goods_type==="练习"?o.jsx("img",{src:f}):s.goods[0].goods_type==="BOOK"?o.jsx(n,{value:s.goods[0].goods_thumb,width:75,height:100,border:8}):o.jsx(n,{value:s.goods[0].goods_thumb,width:133,height:100,border:8})}):s.goods[0].goods_type==="ROLE"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:G})}):s.goods[0].goods_type==="文章"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:W})}):s.goods[0].goods_type==="COURSE"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:X})}):s.goods[0].goods_type==="模拟试卷"||s.goods[0].goods_type==="试卷"||s.goods[0].goods_type==="练习"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:f})}):s.goods[0].goods_type==="VIDEO"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:Y})}):s.goods[0].goods_type==="学习路径"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:Z})}):s.goods[0].goods_type==="直播课程"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:$})}):s.goods[0].goods_type==="BOOK"?o.jsx("div",{className:e["item-thumb"],children:o.jsx("img",{src:ss})}):o.jsx("div",{className:e["item-thumb"]}),o.jsxs("div",{className:e["item-info"],children:[o.jsxs("div",{className:e["item-top"],children:[s.goods[0]&&o.jsx("div",{className:e["item-name"],children:s.goods[0].goods_name}),o.jsxs("div",{className:e["order-num"],children:["订单编号：",s.order_id]}),o.jsx("div",{className:e["item-time"],children:p(s.created_at)})]}),o.jsxs("div",{className:e["item-bottom"],children:[s.status_text==="已支付"&&o.jsxs("div",{className:e["item-price"],children:["实付款：￥",s.charge]}),o.jsx("div",{className:s.status_text==="未支付"||s.status_text==="支付中"?e["item-act-status"]:e["item-status"],children:s.status_text})]})]})]},s.id))}),i===2&&o.jsx("div",{className:e["project-content"],children:l.map(s=>o.jsxs("div",{className:e["project-item"],onClick:()=>w(s),children:[s.goods&&s.goods.goods_thumb&&o.jsx("div",{className:e["item-thumb"],children:s.goods.goods_type==="book"?o.jsx(n,{value:s.goods.goods_thumb,width:75,height:100,border:8}):o.jsx(n,{value:s.goods.goods_thumb,width:133,height:100,border:8})}),(!s.goods||s.goods.length===0)&&o.jsx("div",{className:e["item-thumb"]}),o.jsxs("div",{className:e["item-info"],children:[o.jsxs("div",{className:e["item-top"],children:[o.jsx("div",{className:e["item-name"],children:s.goods.goods_title||"商品已删除"}),o.jsxs("div",{className:e["order-num"],children:["类型：",s.goods.goods_type_text]}),o.jsx("div",{className:e["item-time"],children:p(s.updated_at)})]}),o.jsxs("div",{className:e["item-bottom"],children:[o.jsxs("div",{className:e["item-price"],children:["实付款：￥",s.charge]}),s.status===0&&o.jsx("div",{className:e["item-act-status"],onClick:t=>D(t,s),children:"未支付，点击立即支付"}),s.status===1&&o.jsx("div",{className:e["item-status"],children:"已支付"}),s.status===3&&o.jsx("div",{className:e["item-status"],children:"已取消"})]})]})]},s.id))}),i===3&&o.jsx("div",{className:e["project-content"],children:l.map(s=>o.jsxs("div",{className:e["project-item"],onClick:()=>R(s),children:[s.goods&&s.goods.goods_thumb&&o.jsx("div",{className:e["item-thumb"],children:s.goods.goods_type==="book"?o.jsx(n,{value:s.goods.goods_thumb,width:75,height:100,border:8}):o.jsx(n,{value:s.goods.goods_thumb,width:133,height:100,border:8})}),(!s.goods||s.goods.length===0)&&o.jsx("div",{className:e["item-thumb"]}),o.jsxs("div",{className:e["item-info"],children:[o.jsxs("div",{className:e["item-top"],children:[o.jsx("div",{className:e["item-name"],children:s.goods.goods_title||"商品已删除"}),o.jsxs("div",{className:e["order-num"],children:["类型：",s.goods.goods_type_text]}),o.jsx("div",{className:e["item-time"],children:p(s.created_at)})]}),o.jsxs("div",{className:e["item-bottom"],children:[o.jsxs("div",{className:e["item-price"],children:["实付款：￥",s.charge]}),s.status===0&&o.jsx("div",{className:e["item-act-status"],onClick:t=>z(t,s),children:"未支付，点击立即支付"}),s.status===1&&o.jsx("div",{className:e["item-status"],children:"已支付"}),s.status===3&&o.jsx("div",{className:e["item-status"],children:"已取消"})]})]})]},s.id))})]}),!c&&l.length>0&&r<v&&o.jsx(b,{span:24,style:{display:"flex",justifyContent:"center",marginTop:50,marginBottom:30},children:o.jsx(H,{onChange:s=>{j(s),window.scrollTo(0,0)},pageSize:r,defaultCurrent:_,total:v})})]})]})})};export{rs as default};
